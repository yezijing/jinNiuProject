webpackJsonp([16],{"80Hh":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("/5Zb"),r=(a("hct2"),a("P9l9")),s=a("y7k7"),l={name:"streetRank",components:{},data:function(){return{defaturl:"",rankDatas:[],indexNames:[],eid:"",targetCheckList:JSON.parse(this.$store.getters.userdata).targetCheckList,isDownShow:!1,loading:!0,tableHeight:"500px",lens:0,lastlens:0,ratelen:0,ranklen:0,leaderList:[],filters:{reportMonth:"",leadleaderid:""},months:[]}},mounted:function(){},created:function(){this.defaturl=s.a,this.browerHeight(),this.limitShow(),this.streetRankList(),this.getLeaderList(),this.monthList()},methods:{downLoadData:function(){window.open(this.defaturl+"/report/streetFinishInfoReport?reportMonth="+this.filters.reportMonth+"&leadleaderid="+this.filters.leadleaderid)},selectChange:function(){this.$forceUpdate()},getDatas:function(){var t=this;this.lens=0,this.lastlens=0,this.ratelen=0,this.ranklen=0;var e=this.filters;this.loading=!0,this.indexNames=[],this.rankDatas=[],Object(n.r)(e,function(e){t.loading=!1;var a=e.data.obj,n=a.tital.length-2+a.tital.dataList.length;t.lens=n-1,t.lastlens=n-2,t.ratelen=n-4,t.ranklen=n-3;for(var r=a.tital.dataList,s=0;s<r.length;s++){var l={};l.title="quota"+s,l.name=r[s],t.indexNames.push(l)}for(var i=a.dataList[0],o=a.dataList[1],d=0;d<i.length;d++){var c={};c.deptName=i[d].deptName,c.type=i[d].dataType,c.type=i[d].dataType,c.rate=i[d].controlRateString,c.rank=i[d].controlRatesRank,c.cytargetSum=i[d].dutyNum,c.fscheduleSum=i[d].finishNum;for(var h=i[d].dataList,p=0;p<h.length;p++)c["quota"+p]=h[p];t.rankDatas.push(c);var u={};u.deptName=o[d].deptName,u.type=o[d].dataType,u.type=o[d].dataType,u.rate=o[d].controlRateString,u.rank=o[d].controlRatesRank,u.cytargetSum=o[d].dutyNum,u.fscheduleSum=o[d].finishNum;for(var m=o[d].dataList,f=0;f<m.length;f++)u["quota"+f]=m[f];t.rankDatas.push(u)}})},resetForm:function(t){this.$refs[t].resetFields(),this.streetRankList()},monthList:function(){var t=this;Object(n.n)("",function(e){t.months=e.data.obj})},getLeaderList:function(){var t=this;Object(r.G)("",function(e){t.leaderList=e.data.obj})},browerHeight:function(){var t=document.body.clientHeight-320;this.tableHeight=t+"px"},limitShow:function(){if(null!==this.targetCheckList)for(var t=0;t<this.targetCheckList.length;t++){switch(this.targetCheckList[t]){case"D-down":this.isDownShow=!0}}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,a=t.columnIndex;return 0===a?e%2==0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}:a===this.lens?e%2==0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}:a===this.lastlens?e%2==0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}:a===this.ranklen?e%2==0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}:a===this.ratelen?e%2==0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}:void 0},streetRankList:function(){var t=this;this.loading=!0,this.lens=0,this.lastlens=0,this.ratelen=0,this.ranklen=0,this.indexNames=[],this.rankDatas=[],Object(n.r)("",function(e){t.loading=!1;var a=e.data.obj,n=a.tital.dataList.length;n+=6,t.lens=n-1,t.lastlens=n-2,t.ratelen=n-4,t.ranklen=n-3;for(var r=a.tital.dataList,s=0;s<r.length;s++){var l={};l.title="quota"+s,l.name=r[s],t.indexNames.push(l)}for(var i=a.dataList[0],o=a.dataList[1],d=a.dataList[2],c=a.dataList[3],h=0;h<i.length;h++){var p={};p.deptName=i[h].deptName,p.type=i[h].dataType,p.type=i[h].dataType,p.rate=i[h].controlRateString,p.rank=i[h].controlRatesRank,p.cytargetSum=i[h].dutyNum,p.fscheduleSum=i[h].finishNum;for(var u=i[h].dataList,m=0;m<u.length;m++)p["quota"+m]=u[m];t.rankDatas.push(p);var f={};f.deptName=o[h].deptName,f.type=o[h].dataType,f.type=o[h].dataType,f.rate=o[h].controlRateString,f.rank=o[h].controlRatesRank,f.cytargetSum=o[h].dutyNum,f.fscheduleSum=o[h].finishNum;for(var g=o[h].dataList,v=0;v<g.length;v++)f["quota"+v]=g[v];t.rankDatas.push(f)}for(var b=0;b<d.length;b++){var k={};k.deptName=d[b].deptName,k.type=d[b].dataType,k.type=d[b].dataType,k.rate=d[b].controlRateString,k.rank=d[b].controlRatesRank,k.cytargetSum=d[b].dutyNum,k.fscheduleSum=d[b].finishNum;for(u=d[b].dataList,m=0;m<u.length;m++)k["quota"+m]=u[m];t.rankDatas.push(k);var y={};y.deptName=c[b].deptName,y.type=c[b].dataType,y.type=c[b].dataType,y.rate=c[b].controlRateString,y.rank=c[b].controlRatesRank,y.cytargetSum=c[b].dutyNum,y.fscheduleSum=c[b].finishNum;for(g=c[b].dataList,v=0;v<g.length;v++)y["quota"+v]=g[v];t.rankDatas.push(y)}})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap target streetrank"},[t._m(0),t._v(" "),a("el-row",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{size:"small",inline:!0,model:t.filters}},[a("el-form-item",{staticClass:"ybox",attrs:{label:"填报月份：",prop:"reportMonth"}},[a("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},on:{change:function(e){t.selectChange()}},model:{value:t.filters.reportMonth,callback:function(e){t.$set(t.filters,"reportMonth",e)},expression:"filters.reportMonth"}},t._l(t.months,function(t){return a("el-option",{key:t.reportMonth,attrs:{label:t.reportMonth,value:t.reportMonth}})}))],1),t._v(" "),a("el-form-item",{staticClass:"ld",attrs:{label:"牵头区领导：",prop:"leadleaderid"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部"},on:{change:t.selectChange},model:{value:t.filters.leadleaderid,callback:function(e){t.$set(t.filters,"leadleaderid",e)},expression:"filters.leadleaderid"}},t._l(t.leaderList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getDatas("filters")}}},[t._v("搜 索")]),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("filters")}}},[t._v("重 置")])],1),t._v(" "),a("div",{staticClass:"toolbtns"},[t.isDownShow?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.downLoadData}},[t._v("报表下载")]):t._e()],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:t.rankDatas,"highlight-current-row":"",height:t.tableHeight,"span-method":t.objectSpanMethod,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-table-column",{attrs:{label:"承办单位"}},[a("el-table-column",{attrs:{prop:"deptName",label:"名称","class-name":"oneth"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类别","class-name":"oneth"}})],1),t._v(" "),t._l(t.indexNames,function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.title,label:t.name}})}),t._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"达标率"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rank",label:"达标率排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cytargetSum",label:"承办指标项数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fscheduleSum",label:"完成任务计划指标项数"}})],2)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"navtitle"},[e("span",[this._v("承办单位完成情况")])])}]};var o=a("VU/8")(l,i,!1,function(t){a("SZGb")},null,null);e.default=o.exports},SZGb:function(t,e){}});
//# sourceMappingURL=16.a3605f2af9bf58d7abf9.js.map