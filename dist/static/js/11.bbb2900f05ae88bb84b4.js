webpackJsonp([11],{bNF0:function(t,e){},iLnC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("+6Bu"),l=a.n(n),o=a("P9l9"),r=a("/5Zb"),s=a("jaH2"),i={name:"target",props:["leaderList","indexNames"],components:{},data:function(){return{leadunits:[],filters:{},currentPage:1,pageSize:10,totals:20,loading:!1,assignDatas:[],indexName:"",economicId:"",contrastList:[],targetCheckList:JSON.parse(this.$store.getters.userdata).targetCheckList,isAddShow:!1,isDownShow:!1,tableHeight:"500px",months:[],moreText:"更多搜索条件",toolShow:!1,isOpen:0,reportMonth:"",monthDate:"",filts:{},monthDates:""}},mounted:function(){},created:function(){this.browerHeight(),this.passValue(),this.getDeptlist(),this.getKeyRank(),this.monthList()},methods:{moreSearch:function(){0==this.isOpen?(this.isOpen=1,this.toolShow=!0,this.moreText="收回"):(this.isOpen=0,this.toolShow=!1,this.moreText="更多搜索条件")},monthList:function(){var t=this;Object(r.m)("",function(e){t.months=e.data.obj;for(var a=0;a<t.months.length;a++)t.months[a].month=t.months[a].reportMonth+"月"})},getDeptlist:function(){var t=this;Object(o.e)("",function(e){t.leadunits=e.data.obj})},passValue:function(){if(null!==this.targetCheckList)for(var t=0;t<this.targetCheckList.length;t++){switch(this.targetCheckList[t]){case"D-add":this.isAddShow=!0;break;case"D-down":this.isDownShow=!0}}},browerHeight:function(){var t=document.body.clientHeight-360;this.tableHeight=t+"px"},selectChange:function(){this.$forceUpdate()},getKeyRank:function(){var t=this;Object(r.q)("",function(e){if(t.assignDatas=e.data.obj,null==t.assignDatas)t.monthDate="",t.monthDates="",t.filters.reportMonth="",t.filters.month="";else{for(var a=0;a<t.assignDatas.length;a++)t.assignDatas[a].month=t.assignDatas[a].reportMonth+"月";t.monthDate=t.assignDatas[0].reportMonth,t.monthDates=t.assignDatas[0].month,t.filters.reportMonth=t.monthDate}})},requireFormat:function(t,e){switch(e){case 0:return"是";case 1:return"否"}},nodeFormat:function(t,e){switch(e){case 0:return"月度";case 1:return"季度";case 2:return"半年";case 3:return"年度"}},getDatas:function(){var t=this,e=this.filters,a=e;a.reportMonth;e=l()(a,["reportMonth"]);var n=this.filters.reportMonth;void 0==n?n="":(n=n.replace("月",""),e.reportMonth=n),Object(r.q)(e,function(e){if(t.assignDatas=e.data.obj,null==t.assignDatas)t.monthDate="";else{for(var a=0;a<t.assignDatas.length;a++)t.assignDatas[a].reportMonth=t.assignDatas[a].reportMonth+"月";""==t.filters.reportMonth?t.monthDate="":t.monthDate=t.assignDatas[0].reportMonth}t.loading=!1})},resetForm:function(t){this.$refs[t].resetFields(),this.getKeyRank()},transName:function(t,e,a,n){this.indexName=e,this.economicId=a,this.reportMonth=n,this.filts.reportMonth=this.reportMonth,this.filts.economicId=a,this.filts.month=this.reportMonth+"月",s.a.$emit("name",this.indexName),s.a.$emit("id",this.economicId),s.a.$emit("filters",this.filts),s.a.$emit("reportMonth",this.reportMonthh)},getContrast:function(){var t=this,e={economicId:this.economicId};Object(r.l)(e,function(e){t.contrastList=e.data.obj,s.a.$emit("clist",t.contrastList)})},dataContrast:function(){this.$emit("my-event"),this.getContrast()}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"target keyrank"},[a("el-row",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{size:"small",inline:!0,model:t.filters}},[a("el-form-item",{staticClass:"lb",attrs:{label:"指标名称：",prop:"economicId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:t.selectChange},model:{value:t.filters.economicId,callback:function(e){t.$set(t.filters,"economicId",e)},expression:"filters.economicId"}},t._l(t.indexNames,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"ybox",attrs:{label:"填报月份：",prop:"reportMonth"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:function(e){t.selectChange()}},model:{value:t.filters.reportMonth,callback:function(e){t.$set(t.filters,"reportMonth",e)},expression:"filters.reportMonth"}},t._l(t.months,function(t){return a("el-option",{key:t.reportMonth,attrs:{label:t.month,value:t.reportMonth}})}))],1),t._v(" "),t.toolShow?a("el-form-item",{staticClass:"ld",attrs:{label:"牵头区领导：",prop:"leadleaderid"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部"},on:{change:t.selectChange},model:{value:t.filters.leadleaderid,callback:function(e){t.$set(t.filters,"leadleaderid",e)},expression:"filters.leadleaderid"}},t._l(t.leaderList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1):t._e(),t._v(" "),t.toolShow?a("el-form-item",{staticClass:"ld",attrs:{label:"牵头单位：",prop:"leadDeptId"}},[a("el-select",{attrs:{clearable:"",placeholder:"全部"},on:{change:t.selectChange},model:{value:t.filters.leadDeptId,callback:function(e){t.$set(t.filters,"leadDeptId",e)},expression:"filters.leadDeptId"}},t._l(t.leadunits,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1):t._e(),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getDatas("filters")}}},[t._v("搜 索")]),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("filters")}}},[t._v("重 置")]),t._v(" "),a("el-button",{on:{click:t.moreSearch}},[t._v(t._s(t.moreText))])],1),t._v(" "),a("div",{staticClass:"toolbtns"},[t.isDownShow?a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("报表下载")]):t._e()],1)],1)],1)],1),t._v(" "),a("p",{staticClass:"etitle"},[t._v(t._s(t.monthDates))]),t._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",height:t.tableHeight,data:t.assignDatas,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"economicName",label:"指标名称",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"title",on:{click:function(a){t.transName(e.row,e.row.economicName,e.row.economicid,e.row.reportMonth),t.dataContrast()}}},[t._v(t._s(e.row.economicName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cytarget",label:"市下达全年目标"}}),t._v(" "),a("el-table-column",{attrs:{label:"目标完成额"}},[a("el-table-column",{attrs:{prop:"amount",label:"绝对量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amountfiverank",label:"五区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amountcentralrank",width:"70",label:"中心城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amountcityrank",label:"全市排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplify",label:"增幅(%)"},scopedSlots:t._u([{key:"default",fn:function(e){return[null==e.row.amplify?a("span",[t._v("/")]):a("span",{style:e.row.amplify<0?"color:#f00":"color:#606266"},[t._v(t._s(e.row.amplify)+"%")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amplifyfiverank",label:"五区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplifycentralrank",label:"中心城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplifycityrank",label:"全市排名"}})],1),t._v(" "),a("el-table-column",{attrs:{label:"目标完成率"}},[a("el-table-column",{attrs:{prop:"fschedule",label:"完成进度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:e.row.fschedule<0?"color:#f00":"color:#606266"},[t._v(t._s(e.row.fschedule))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"fschedulefiverank",label:"五城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fschedulecentralrank",label:"中心城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fschedulecityrank",label:"全市排名"}})],1),t._v(" "),a("el-table-column",{attrs:{prop:"leadDeptName",label:"牵头单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"leadLeaderName",label:"牵头区领导"}})],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(i,c,!1,function(t){a("iz6y")},null,null).exports,m=a("hct2"),u={name:"target",components:{},props:["indexNames"],data:function(){return{reportMonth:"",filters:{},indexName:"",economicId:"",contrastList:[],indexList:[],targetCheckList:JSON.parse(this.$store.getters.userdata).targetCheckList,isDownShow:!1,months:[],month:"",yue:"",tableHeight:"500px"}},mounted:function(){},created:function(){var t=this;this.passValue(),this.browerHeight(),s.a.$on("name",function(e){t.indexName=e}),s.a.$on("id",function(e){t.economicId=e}),s.a.$on("clist",function(e){t.contrastList=e}),s.a.$on("filters",function(e){t.filters=e}),this.monthList(),this.getIndexData()},watch:{filters:{handler:function(t,e){console.log(t)},deep:!0}},methods:{monthList:function(){var t=this;Object(r.m)("",function(e){t.months=e.data.obj;for(var a=0;a<t.months.length;a++)t.months[a].month=t.months[a].reportMonth+"月"})},browerHeight:function(){var t=document.body.clientHeight-350;this.tableHeight=t+"px"},passValue:function(){if(null!==this.targetCheckList)for(var t=0;t<this.targetCheckList.length;t++){switch(this.targetCheckList[t]){case"D-down":this.isDownShow=!0}}},selectChange:function(){this.$forceUpdate()},getIndexData:function(){var t=this;Object(m.j)("",function(e){t.indexList=e.data.obj})},getContrast:function(t){var e=this;Object(r.l)(t,function(t){var a=e.filters.economicId;if(void 0==a)e.indexName="";else for(var n=0;n<e.indexNames.length;n++)e.indexNames[n].id==a&&(e.indexName=e.indexNames[n].name);e.contrastList=t.data.obj})},statusFormat:function(t,e){switch(e){case 0:return"是";case 1:return"否"}},getDatas:function(){var t=this.filters,e=t;e.reportMonth;t=l()(e,["reportMonth"]);var a="";void 0==this.filters.reportMonth?a="":(a=(a=this.filters.reportMonth).replace("月",""),t.reportMonth=a),this.getContrast(t)},resetForm:function(t){this.$refs[t].resetFields(),this.filters.economicId="",this.filters.month="",this.contrastList=[],this.reportMonth="",this.indexName="",this.remonth=""}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"target keyrank"},[a("el-row",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{inline:!0,model:t.filters,size:"small"}},[a("el-form-item",{attrs:{label:"指标名称：",prop:"economicId"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:t.selectChange},model:{value:t.filters.economicId,callback:function(e){t.$set(t.filters,"economicId",e)},expression:"filters.economicId"}},t._l(t.indexNames,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"ybox",attrs:{label:"填报月份：",prop:"reportMonth"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:function(e){t.selectChange()}},model:{value:t.filters.reportMonth,callback:function(e){t.$set(t.filters,"reportMonth",e)},expression:"filters.reportMonth"}},t._l(t.months,function(t){return a("el-option",{key:t.reportMonth,attrs:{label:t.month,value:t.reportMonth}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.getDatas("filters")}}},[t._v("搜 索")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.resetForm("filters")}}},[t._v("重 置")])],1),t._v(" "),a("div",{staticClass:"toolbtns"},[t.isDownShow?a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("报表下载")]):t._e()],1)],1)],1)],1),t._v(" "),a("p",{staticClass:"etitle"},[t._v(t._s(t.indexName)+t._s(t.filters.month))]),t._v(" "),a("el-row",[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:t.contrastList,"highlight-current-row":"",height:t.tableHeight}},[a("el-table-column",{attrs:{prop:"districtName",label:"区域"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cytarget",label:"市下达全年目标"}}),t._v(" "),a("el-table-column",{attrs:{prop:"drtarget",label:"区定排位目标"}}),t._v(" "),a("el-table-column",{attrs:{label:"目标完成额"}},[a("el-table-column",{attrs:{prop:"amount",label:"绝对量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amountfiverank",label:"五区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amountcentralrank",label:"中心城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amountcityrank",label:"全市排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplify",label:"增幅(%)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplifyfiverank",label:"五区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplifycentralrank",label:"中心城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amplifycityrank",label:"全市排名"}})],1),t._v(" "),a("el-table-column",{attrs:{label:"目标完成率"}},[a("el-table-column",{attrs:{prop:"fschedule",label:"完成进度"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fschedulefiverank",label:"五城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fschedulecentralrank",label:"中心城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fschedulecityrank",label:"全市排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"overtarget",label:"超目标百分点"}}),t._v(" "),a("el-table-column",{attrs:{prop:"overtargetfiverank",label:"五城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"overtargetcentralrank",label:"中心城区排名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"overtargetcityrank",label:"全市排名"}})],1)],1)],1)],1)},staticRenderFns:[]};var p={name:"target",components:{keyTarget:h,contrastData:a("VU/8")(u,d,!1,function(t){a("bNF0")},null,null).exports},data:function(){return{activeName:"first",leaderList:[],indexName:"",indexNames:[]}},mounted:function(){this.getLeaderList()},created:function(){this.getIndexData()},methods:{handleTabClick:function(t,e){console.log(t.name)},switchTabs:function(t){this.activeName="second"},getLeaderList:function(){var t=this;Object(o.G)("",function(e){t.leaderList=e.data.obj})},getIndexData:function(){var t=this;Object(m.j)("",function(e){t.indexNames=e.data.obj,console.log(t.indexNames)})}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrap target"},[a("el-tabs",{on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"重点经济指标",name:"first"}},[a("key-target",{attrs:{indexNames:t.indexNames,leaderList:t.leaderList},on:{"my-event":t.switchTabs}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"对比表",name:"second"}},[a("contrast-data",{attrs:{indexName:t.indexName,indexNames:t.indexNames}})],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(p,f,!1,function(t){a("rA7b")},null,null);e.default=b.exports},iz6y:function(t,e){},jaH2:function(t,e,a){"use strict";var n=a("7+uW");e.a=new n.default},rA7b:function(t,e){}});
//# sourceMappingURL=11.bbb2900f05ae88bb84b4.js.map