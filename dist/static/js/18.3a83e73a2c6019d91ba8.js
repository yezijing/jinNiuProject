webpackJsonp([18],{"6R0e":function(e,t){},Gxy1:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("woOf"),a=o.n(r),l=o("P9l9"),i={name:"organization",data:function(){return{organizeData:[],currentPage:1,pageSize:5,totals:0,editFormVisible:!1,addFormVisible:!1,lookFormVisible:!1,addFormRules:{name:[{required:!0,message:"请输入机构名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}]},addForm:{},lookForm:{},editForm:{}}},mounted:function(){},created:function(){this.getOrganize()},methods:{getOrganize:function(){var e=this;Object(l.J)("",function(t){e.organizeData=t.data.obj})},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",remark:""}},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=a()({},t)},handleLook:function(e,t){this.lookFormVisible=!0,this.lookForm=a()({},t)},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(!t)return console.log("error"),!1;var o=a()({},e.addForm);Object(l.c)(o,function(t){e.$message({message:"提交成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getOrganize()},function(){console.log("error"),e.$message({message:"提交失败",type:"error"})})})},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){if(!t)return console.log("error"),!1;var o=a()({},e.editForm);Object(l.p)(o,function(t){e.$message({message:"编辑成功",type:"success"}),e.editFormVisible=!1,e.$refs.editForm.resetFields(),e.getOrganize()},function(){console.log("error"),e.$message({message:"提交失败",type:"error"})})})},handleDel:function(e,t,o){var r=this,a={lid:o};console.log(a),Object(l.j)(a,function(e){r.$message({message:"删除成功",type:"success"}),r.getOrganize()})}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content-wrap setting setting2"},[e._m(0),e._v(" "),o("el-col",{staticClass:"toolbar",attrs:{span:24}},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),o("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.organizeData,"highlight-current-row":""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"机构名称"}}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注",width:""}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){e.handleLook(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(o){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(o){e.handleDel(t.$index,t.row,t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"编辑组织机构",visible:e.editFormVisible,width:"500px"},on:{"update:visible":function(t){e.editFormVisible=t}}},[o("el-form",{ref:"editForm",attrs:{size:"small",model:e.editForm,rules:e.addFormRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"机构名称：",prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注："}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.remark,callback:function(t){e.$set(e.editForm,"remark",t)},expression:"editForm.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.editSubmit("editForm")}}},[e._v("保存")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"详情",visible:e.lookFormVisible,width:"500px"},on:{"update:visible":function(t){e.lookFormVisible=t}}},[o("el-form",{attrs:{size:"small",model:e.lookForm,"label-width":"100px",rules:e.addFormRules}},[o("el-form-item",{attrs:{label:"机构名称：",prop:"name"}},[o("el-input",{attrs:{readonly:""},model:{value:e.lookForm.name,callback:function(t){e.$set(e.lookForm,"name",t)},expression:"lookForm.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注："}},[o("el-input",{attrs:{type:"textarea",readonly:""},model:{value:e.lookForm.remark,callback:function(t){e.$set(e.lookForm,"remark",t)},expression:"lookForm.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.lookFormVisible=!1}}},[e._v("确定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"新增组织机构",visible:e.addFormVisible,width:"500px"},on:{"update:visible":function(t){e.addFormVisible=t}}},[o("el-form",{ref:"addForm",attrs:{size:"small",model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"机构名称：",prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注："}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.addSubmit("addForm")}}},[e._v("新增")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"navtitle"},[t("span",[this._v("组织机构")])])}]};var n=o("VU/8")(i,s,!1,function(e){o("6R0e")},null,null);t.default=n.exports}});
//# sourceMappingURL=18.3a83e73a2c6019d91ba8.js.map