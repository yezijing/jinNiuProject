webpackJsonp([15],{V6VW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("woOf"),r=a.n(i),s=a("bOdI"),o=a.n(s),l=a("XLwt"),n=a.n(l),c=a("Vbf0"),p=a("H6CQ"),u=a("2w7R"),d=a("4OxD"),h=a("ArgV"),m=a("6rDn"),f=(a("D+57"),a("P9l9")),b=a("mse9"),v=a("/5Zb"),y=a("hct2"),g=a("uu+V"),w=a("s64f");a("tcAE"),a("SwK5");var k={name:"personCenter",components:{reportProgress:c.a,examineContent:p.a,passTable:u.a},data:function(){var e;return e={isExport:{visible:!0},isLeaderUnit:!0,passHeight:"400px",itemShow:0,reportBasic:{},alldataVisible:!1,alldatas:[],laststate:"",ruleList:[],detailRuleVisible:!1,ruledetailForm:{},isNumshow:!0,isZengshow:!0,detailFormVisible:!1,detailForm:{},leadsData:[],date2:"",dcondition:"",zhihouForm:{},loginid:JSON.parse(this.$store.getters.userdata).id,postUnit:!0,overpostUnit:!0,selfCommit:[{value:0,name:"正常"},{value:1,name:"滞后"},{value:2,name:"严重滞后"}],earlyData:[],tobeCheck:[],overCheck:[],reportVisible:{visible:!1},receiptVisible:!1,checkProgressVisible:!1,checkReceiptVisible:!1,innerAreaVisible:!1,areaNopassReason:"",preDatas:[],viewTitle:"",indexVisible:!1,indexAreaVisible:!1,areaDatas:[],spanArr:[],spanPos:0,choosename:"",reportData:{},receiptData:{},isRead:!1,fileList:[],filepath:[],reportCheckData:{},receiptCheckData:{},dtype:"",did:"",dtype2:"",did2:"",personCheckList:JSON.parse(this.$store.getters.userdata).personCheckList,isCheckShow:!1,upfile:"",imgIp:"",innerVisible:!1,nopassReason:"",bigid:"",addnum:"",reportType:"",targetData:[],fileArr:[],zhihouShow:!0,sureShow:!1,btnShow:!0,reasonShow:!1,evolveVisible:!1,evolveData:{},examineData:{},examineVisible:!1,examineType:0,examineId:0,examineTitle:"",examineFileArr:[],noneFile:!1},o()(e,"reportType",0),o()(e,"checkid",""),o()(e,"eid",0),o()(e,"reportBtnShow",!1),o()(e,"leadunits",[]),o()(e,"redetps",[]),o()(e,"retypes",[{value:1,text:"重点项目"},{value:2,text:"批交办事项"},{value:3,text:"三年行动计划"},{value:4,text:"承办单位指标管理"},{value:5,text:"区级指标管理"},{value:6,text:"现场办公会"},{value:9,text:"片区督查"},{value:12,text:"重点工作"}]),o()(e,"watypes",[{value:1,text:"重点项目"},{value:2,text:"批交办事项"},{value:3,text:"三年行动计划"},{value:4,text:"现场办公会"},{value:7,text:"片区督查"},{value:12,text:"重点工作"},{value:9,text:"区级指标管理"},{value:10,text:"承办单位指标管理"}]),o()(e,"isCenter",2),o()(e,"nopassData",[{value:0,name:"重点项目"},{value:0,name:"批交办事项"},{value:0,name:"三年行动计划"},{value:0,name:"现场办公会"},{value:0,name:"片区督查"},{value:0,text:"重点工作"}]),o()(e,"zhihouData",[{value:0,name:"重点项目"},{value:0,name:"批交办事项"},{value:0,name:"三年行动计划"},{value:0,name:"现场办公会"},{value:0,name:"片区督查"},{value:0,text:"重点工作"}]),o()(e,"overdueData",[{value:0,name:"重点项目"},{value:0,name:"批交办事项"},{value:0,name:"三年行动计划"},{value:0,name:"现场办公会"},{value:0,name:"片区督查"},{value:0,text:"重点工作"}]),e},mounted:function(){this.drawCharts()},created:function(){this.upfile=d.j,this.imgIp=d.a,this.isshowCheck(),this.getAllList(),this.getDeptlist(),this.numberGetlist()},methods:{numberGetlist:function(){var e=this;Object(h.d)({userid:this.loginid},function(t){var a=t.data.obj;e.zhihouData=[{value:a.proLater,name:"重点项目"},{value:a.checkLater,name:"批交办事项"},{value:a.threeLater,name:"三年行动计划"},{value:a.liDaoLater,name:"现场办公会"},{value:a.qingkuangLater,name:"片区督查"},{value:a.pointLater,name:"重点工作"}],e.nopassData=[{value:a.proValidate,name:"重点项目"},{value:a.checkValidate,name:"批交办事项"},{value:a.threeValidate,name:"三年行动计划"},{value:a.liDaoValidate,name:"现场办公会"},{value:a.qingkuangValidate,name:"片区督查"},{value:a.pointValidate,name:"重点工作"}],e.overdueData=[{value:a.proOver,name:"重点项目"},{value:a.checkOver,name:"批交办事项"},{value:a.threeOver,name:"三年行动计划"},{value:a.liDaoOver,name:"现场办公会"},{value:a.qingkuangOver,name:"片区督查"},{value:a.pointOver,name:"重点工作"}],e.drawCharts()})},detailRuleBtn:function(e,t){this.detailRuleVisible=!0,this.ruledetailForm=r()({},t),4==t.cycletype?this.ruledetailForm.condition="季度":3==t.cycletype?this.ruledetailForm.condition="每月":this.ruledetailForm.condition="",null==t.cycletime?this.ruledetailForm.date="":this.ruledetailForm.date=t.cycletime+"日"},getDeptlist:function(){var e=this;Object(f.e)("",function(t){e.leadunits=t.data.obj;for(var a=0;a<e.leadunits.length;a++){var i={};i.text=e.leadunits[a].name,i.value=e.leadunits[a].name,e.redetps.push(i)}})},filterTag2:function(e,t){return t.reportdept===e},filterTag3:function(e,t){return t.transTypeSearch===e},filterTag4:function(e,t){return t.warnTypeSearch===e},filterFormstatus:function(e,t){return t.formstatus===e},integralCharts:function(){n.a.init(document.getElementById("mycharts-one")).setOption({title:{x:"center",bottom:50,subtext:"当前积分",subtextStyle:{color:"#000"}},tooltip:{show:!0,backgroundColor:"#F7F9FB",borderColor:"#92DAFF",borderWidth:"1px",textStyle:{color:"black"},formatter:function(e){return'当前积分：<span style="color:'+e.color+';">'+e.value+"</span> 分"}},series:[{name:"信用分",type:"gauge",radius:"85%",min:0,max:100,axisLine:{show:!0,lineStyle:{width:30,shadowBlur:0,color:[[.4,"#E43F3D"],[.6,"#E98E2C"],[.7,"#DDBD4D"],[.8,"#7CBB55"],[1,"#999933"]]}},axisTick:{show:!0,splitNumber:1},splitLine:{show:!0,length:30},axisLabel:{formatter:function(e){switch(e+""){case"40":return"较差";case"60":return"达标";case"70":return"良好";case"80":return"优秀";case"100":return"非常好";default:return e}},textStyle:{fontSize:12,fontWeight:""}},pointer:{show:!0},detail:{formatter:"{value}",offsetCenter:[0,"50%"],textStyle:{fontSize:36}},data:[{name:"",value:85}]}]})},overdueCharts:function(){var e=n.a.init(document.getElementById("mycharts-two")),t=this;e.on("click",function(e){t.alldataVisible=!0}),e.setOption({textStyle:{fontSize:20},title:{text:"",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{b} <br/>{a} : {c}次"},legend:{x:"center",y:"bottom",textStyle:{color:"#333",fontSize:12},data:["重点项目","批交办事项","三年行动计划","现场办公会","片区督查"]},calculable:!0,color:["#336666","#FF9900","#663366","#999900","#990033"],series:[{name:"逾期次数",type:"pie",radius:[20,100],center:["50%","50%"],roseType:"area",label:{normal:{show:!0,formatter:"{b}{c}次"}},data:this.overdueData,itemStyle:{normal:{label:{show:!0,formatter:"{c}次",textStyle:{fontSize:12}},labelLine:{show:!0,length:10,lineStyle:{width:1}}}}}]})},nopassCharts:function(){n.a.init(document.getElementById("mycharts-three")).setOption({textStyle:{fontSize:20},title:{text:"",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{b} <br/>{a} : {c}个"},legend:{x:"center",y:"bottom",textStyle:{color:"#333",fontSize:12},data:["重点项目","批交办事项","三年行动计划","现场办公会","片区督查"]},calculable:!0,color:["#336666","#FF9900","#663366","#999900","#990033"],series:[{name:"审核未通过",type:"pie",radius:[20,100],center:["50%","50%"],roseType:"area",label:{normal:{show:!0,formatter:"{b}{c}个"}},data:this.nopassData,itemStyle:{normal:{label:{show:!0,formatter:"{c}次",textStyle:{fontSize:12}},labelLine:{show:!0,length:10,lineStyle:{width:1}}}}}]})},zhihouCharts:function(){n.a.init(document.getElementById("mycharts-four")).setOption({textStyle:{fontSize:20},title:{text:"",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{b} <br/>{a} : {c}个"},legend:{x:"center",y:"bottom",textStyle:{color:"#333",fontSize:12},data:["重点项目","批交办事项","三年行动计划","现场办公会","片区督查"]},calculable:!0,color:["#336666","#FF9900","#663366","#999900","#990033"],series:[{name:"审核未通过",type:"pie",radius:[20,100],center:["50%","50%"],roseType:"area",barMinHeight:10,label:{normal:{show:!0,formatter:"{b}{c}个"}},data:this.zhihouData,itemStyle:{normal:{label:{show:!0,formatter:"{c}次",textStyle:{fontSize:12}},labelLine:{show:!0,length:10,lineStyle:{width:1}}}}}]})},drawCharts:function(){this.overdueCharts(),this.nopassCharts(),this.zhihouCharts()},filterTag:function(e,t){return t.statsus===e},isshowCheck:function(){if(null!==this.personCheckList)for(var e=0;e<this.personCheckList.length;e++){switch(this.personCheckList[e]){case"E-check":this.isCheckShow=!0}}},timestampToTime:function(e,t){var a=new Date(e.reportTime);return a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+a.getDate()},timestampToTime2:function(e,t){var a=new Date(e.endTime);return a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+a.getDate()},retimestampToTime:function(e,t){var a=new Date(e.reportDate);return a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+a.getDate()},tableRowClassName:function(e){var t=e.row;e.rowIndex;return 0==t.formstatus||-1==t.formstatus?"nobaosong":9==t.warnType||10==t.warnType?"nobaosong":void 0},shenheRowClassName:function(e){var t=e.row;e.rowIndex;if(1==t.statsus)return"nopass"},getAllList:function(){var e=this,t={userid:this.loginid};Object(h.h)(t,function(t){if(e.earlyData=t.data.obj.warnMessage,e.tobeCheck=t.data.obj.stayTransMessage,e.overCheck=t.data.obj.accessMessage,null==e.overCheck)e.overpostUnit=!1;else{e.overCheck.sort(function(e,t){return e.auditTime>t.auditTime?1:-1});for(var a=0;a<e.overCheck.length;a++){var i=e.overCheck[a].transType;e.overCheck[a].transTypeSearch=i,6==i||7==i||8==i?e.overCheck[a].transTypeSearch=6:9!=i&&10!=i&&11!=i||(e.overCheck[a].transTypeSearch=11)}}if(null==e.earlyData)e.earlyData=[];else for(var r=0;r<e.earlyData.length;r++)e.earlyData[r].warnTypeSearch=e.earlyData[r].warnType,4==e.earlyData[r].warnType||5==e.earlyData[r].warnType||6==e.earlyData[r].warnType?e.earlyData[r].warnTypeSearch=4:7!=e.earlyData[r].warnType&&8!=e.earlyData[r].warnType&&11!=e.earlyData[r].warnType||(e.earlyData[r].warnTypeSearch=7);if(0==t.data.obj.roleType?e.reportBtnShow=!1:e.reportBtnShow=!0,null==e.tobeCheck)e.postUnit=!1;else{e.tobeCheck.sort(function(e,t){return e.reportTime>t.reportTime?1:-1});var s=e.tobeCheck[0].checkRoleIsShow;e.postUnit=0==s;for(var o=0;o<e.tobeCheck.length;o++)e.tobeCheck[o].transTypeSearch=e.tobeCheck[o].transType,6==e.tobeCheck[o].transType||7==e.tobeCheck[o].transType||8==e.tobeCheck[o].transType?e.tobeCheck[o].transTypeSearch=6:9==e.tobeCheck[o].transType||10==e.tobeCheck[o].transType||11==e.tobeCheck[o].transType?e.tobeCheck[o].transTypeSearch=9:12==e.tobeCheck[o].transType&&(e.tobeCheck[o].transTypeSearch=12)}});var a={userId:this.loginid};Object(h.c)(a,function(t){e.targetData=t.data.obj})},totalstatusFormat:function(e,t){switch(t){case 0:return"正常";case 3:return"滞后";case 4:return"严重滞后";case-1:return"完结";case 1:return"预警";case null:return"/"}},formstatusFormat:function(e,t){switch(t){case 0:return"正常";case 1:return"预警";case 2:return"逾期";case-1:return"完结";case null:return"/"}},indextypeFormat:function(e,t){switch(t){case"0":return"绝对量";case"1":return"增幅"}},cellClassName:function(e){var t=e.row;e.column;switch(t.warnStatus){case 1:return"yellow";case 2:return"red"}},stateFormat:function(e,t){switch(t){case 2:return"未执行";case 1:return"执行中";case 0:return"失效"}},handleIndexLook:function(e){var t=this;this.leadsData=[];var a={id:e};this.ruleList=[],this.detailForm={},Object(y.A)(a,function(e){if(t.detailForm=e.data.obj,null==e.data.obj.leaderList&&(e.data.obj.leaderList=[]),t.leadsData=e.data.obj.leaderList,null==e.data.obj.ruleList||0==e.data.obj.ruleList.length)t.ruleList=[];else{t.ruleList=e.data.obj.ruleList;for(var a=0;a<t.ruleList.length;a++){var i=t.ruleList[a].starttime,r=new Date(i),s=r.getFullYear()+"-",o=(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-",l=r.getDate()<10?"0"+r.getDate():r.getDate();t.ruleList[a].starttime=s+o+l;var n=t.ruleList[a].endtime,c=new Date(n),p=c.getFullYear()+"-",u=(c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1)+"-",d=c.getDate()<10?"0"+c.getDate():c.getDate();t.ruleList[a].endtime=p+u+d}}})},handleIndexLook2:function(e){var t=this;this.leadsData=[];var a={id:e};this.ruleList=[],this.detailForm={},Object(y.B)(a,function(e){if(t.detailForm=e.data.obj,null==e.data.obj.leaderList&&(e.data.obj.leaderList=[]),t.leadsData=e.data.obj.leaderList,null==e.data.obj.ruleList||0==e.data.obj.ruleList.length)t.ruleList=[];else{t.ruleList=e.data.obj.ruleList;for(var a=0;a<t.ruleList.length;a++){var i=t.ruleList[a].starttime,r=new Date(i),s=r.getFullYear()+"-",o=(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-",l=r.getDate()<10?"0"+r.getDate():r.getDate();t.ruleList[a].starttime=s+o+l;var n=t.ruleList[a].endtime,c=new Date(n),p=c.getFullYear()+"-",u=(c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1)+"-",d=c.getDate()<10?"0"+c.getDate():c.getDate();t.ruleList[a].endtime=p+u+d}}})},handleDetail:function(e){if(1==e.warnType)this.$router.push({path:"/projectList",query:{projectId:e.pid,isCenter:2}});else if(2==e.warnType)this.$router.push({path:"/assignList",query:{checkid:e.pid,isCenter:2}});else if(3==e.warnType)this.$router.push({path:"/decision2",query:{workid:e.pid,isCenter:2}});else if(4==e.warnType)this.$router.push({path:"/working",query:{workid:e.pid,isWorkShow:!0,isWorkShow2:!1,isWorkShow3:!1,activeClass:0,isCenter:2,sortnum:0}});else if(9==e.warnType){var t=e.pid;this.detailFormVisible=!0,this.handleIndexLook(t)}else if(10==e.warnType){t=e.pid;this.detailFormVisible=!0,this.handleIndexLook2(t)}else 5==e.warnType?this.$router.push({path:"/working",query:{workid:e.pid,isWorkShow:!1,isWorkShow2:!0,isWorkShow3:!1,activeClass:1,isCenter:2,sortnum:1}}):6==e.warnType?this.$router.push({path:"/working",query:{workid:e.pid,isWorkShow:!1,isWorkShow2:!1,isWorkShow3:!0,activeClass:2,isCenter:2,sortnum:2}}):7==e.warnType?this.$router.push({path:"/threework",query:{workid:e.pid,isWorkShow:!0,isWorkShow2:!1,isWorkShow3:!1,activeClass:0,isCenter:2,sortnum:0}}):8==e.warnType?this.$router.push({path:"/threework",query:{workid:e.pid,isWorkShow:!1,isWorkShow2:!0,isWorkShow3:!1,activeClass:1,isCenter:2,sortnum:1}}):11==e.warnType&&this.$router.push({path:"/threework",query:{workid:e.pid,isWorkShow:!1,isWorkShow2:!1,isWorkShow3:!0,activeClass:2,isCenter:2,sortnum:2}})},handleExamineDetail:function(e){if(1==e.transType)this.$router.push({path:"/projectList",query:{projectId:e.bigid,isCenter:2}});else if(2==e.transType)this.$router.push({path:"/assignList",query:{checkid:e.bigid,isCenter:2}});else if(3==e.transType)this.$router.push({path:"/decision2",query:{workid:e.bigid,isCenter:2}});else if(6==e.transType)this.$router.push({path:"/working",query:{workid:e.bigid,isWorkShow:!0,isWorkShow2:!1,isWorkShow3:!1,activeClass:0,isCenter:2,sortnum:0}});else if(7==e.transType)this.$router.push({path:"/working",query:{workid:e.bigid,isWorkShow2:!0,isWorkShow:!1,isWorkShow3:!1,activeClass:1,isCenter:2,sortnum:1}});else if(8==e.transType)this.$router.push({path:"/working",query:{workid:e.bigid,isWorkShow3:!0,isWorkShow2:!1,isWorkShow:!1,activeClass:2,isCenter:2,sortnum:2}});else if(9==e.transType)this.$router.push({path:"/threework",query:{workid:e.bigid,isWorkShow:!0,isWorkShow2:!1,isWorkShow3:!1,activeClass:0,isCenter:2,sortnum:0}});else if(10==e.transType)this.$router.push({path:"/threework",query:{workid:e.bigid,isWorkShow:!1,isWorkShow2:!0,isWorkShow3:!1,activeClass:1,isCenter:2,sortnum:1}});else{if(11!=e.transType)return!1;this.$router.push({path:"/threework",query:{workid:e.bigid,isWorkShow:!1,isWorkShow2:!1,isWorkShow3:!0,activeClass:2,isCenter:2,sortnum:2}})}},handleVerifyDetail:function(e,t){var a=this;if(4==t.transType){this.indexAreaVisible=!0,this.sureShow=!0,this.btnShow=!1,this.zhihouShow=!1,this.areaDatas=[],this.reportType=t.transType,this.addnum=t.reportid,this.choosename=t.transName;var i={economicid:t.bigid,addnum:t.reportid};Object(v.s)(i,function(e){null==e.data.obj?(a.areaDatas=[],a.isNumshow=!0,a.isZengshow=!0):(a.areaDatas=e.data.obj,0==a.areaDatas[0].economicType?(a.isNumshow=!0,a.isZengshow=!1):(a.isNumshow=!1,a.isZengshow=!0)),a.merage()})}else if(5==t.transType){this.indexVisible=!0,this.sureShow=!0,this.btnShow=!1,this.preDatas=[],this.zhihouShow=!1,this.reportType=t.transType,this.addnum=t.reportid,this.viewTitle=t.transName;var r={economicid:t.bigid,addnum:t.reportid};Object(v.c)(r,function(e){null==e.data.obj?(a.preDatas=[],a.isNumshow=!0,a.isZengshow=!0):(a.preDatas=e.data.obj,0==a.preDatas[0].economicType?(a.isNumshow=!0,a.isZengshow=!1):(a.isNumshow=!1,a.isZengshow=!0))})}else{1==t.statsus?this.reasonShow=!0:this.reasonShow=!1,this.zhihouShow=!1,this.sureShow=!0,this.btnShow=!1,this.examineFileArr=[],this.bigid=t.bigid,this.examineId=t.reportid,this.examineType=t.transType;var s={type:t.transType,detailId:t.reportid};this.examineTitle="进展汇报详情",Object(h.e)(s,function(e){if(""==e.data.obj)a.examineFileArr=[];else{a.examineData=e.data.obj;var i=e.data.obj.filepath;if(""==i||null==i)a.examineFileArr=[],a.noneFile=!0;else{a.noneFile=!1;var r=(i=i.split(",")).length;""==i[r-1]&&i.splice(r-1,1);for(var s=i,o=0;o<s.length;o++){var l={};l.url=a.imgIp+s[o],l.name=s[o],a.examineFileArr.push(l)}}}if(1==t.transType)a.itemShow=1,Object(h.o)({projectid:t.bigid,reportDept:t.reportdept},function(e){a.laststate=e.data.obj}),a.projectDetailFuc(a.bigid);else if(2==t.transType)a.itemShow=2,a.assignDetailFuc(a.bigid);else if(3==t.transType){a.itemShow=3,Object(h.p)({typemodel:1,workid:t.bigid,reportDept:t.reportdept},function(e){a.laststate=e.data.obj});a.threeDetailFuc(a.bigid,1)}else 6==t.transType?(a.itemShow=4,Object(h.p)({typemodel:2,workid:t.bigid,reportDept:t.reportdept},function(e){a.laststate=e.data.obj})):7==t.transType?(a.itemShow=5,a.threeUpdetailFuc(a.bigid)):8==t.transType?(a.itemShow=6,a.threeAreadetailFuc(a.bigid)):9==t.transType?(a.itemShow=7,a.keyWorkdetailFuc(a.bigid)):10==t.transType?(a.itemShow=8,a.keyAreadetailFuc(a.bigid)):11==t.transType?(a.itemShow=9,a.keyItemdetailFuc(a.bigid)):a.laststate="";a.examineVisible=!0})}},removeArr:function(e,t){for(var a=e.length;a--;)if(e[a]===t)return a;return!1},handleRemove:function(e,t){var a=e.name;this.fileArr.splice(this.removeArr(this.fileArr,a),1)},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},handleSuccess:function(e,t){var a=e.obj;this.fileArr.push(a)},repeatSubmit:function(e){var t=this;Object(h.m)(e,function(e){if(null==e.data.obj){var a={userid:t.loginid,termid:t.checkid,modeltype:1};Object(f.L)(a,function(e){var a=e.data.obj;if(null==a)t.reportData={userid:t.loginid},t.reportid=-1;else{t.isExport.visible=!1,t.reportid=a.id,t.reportData={userid:t.loginid,question:a.question,measure:a.plan,wenti:a.problem,remark:a.remark};var i=a.filepath,r={};if(null==i||""==i)t.fileList=[],t.fileArr=[];else{var s;s=(i=i.replace(/,$/gi,"")).split(",");for(var o=0;o<s.length;o++)r.name=s[o],r.url=t.imgIp+s[o],t.fileList.push(r),t.fileArr.push(r.name)}}t.reportVisible.visible=!0})}else t.isExport.visible=!1,t.$confirm("<span style='color:#f00;'>已重复报送</span>，确定继续报送吗？","提示",{dangerouslyUseHTMLString:!0,type:"warning",center:!0,modal:!1,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.reportVisible.visible=!0,t.reportData.question=e.data.obj.question,t.reportData.measure=e.data.obj.measure,t.reportData.wenti=e.data.obj.wenti,t.reportData.remark=e.data.obj.remark;var a=e.data.obj.filepath,i={};if(null==a||""==a)t.fileList=[],t.fileArr=[];else{var r;r=(a=a.replace(/,$/gi,"")).split(",");for(var s=0;s<r.length;s++)i.name=r[s],i.url=t.imgIp+r[s],t.fileList.push(i),t.fileArr.push(i.name)}}).catch(function(){t.$message({type:"info",message:"取消报送"})})})},repeatSubmit3:function(e){var t=this;this.fileList=[],this.fileArr=[],Object(h.l)(e,function(e){if(null==e.data.obj){var a={userid:t.loginid,termid:t.checkid,modeltype:2};Object(f.L)(a,function(e){var a=e.data.obj;if(null==a)t.reportData={userid:t.loginid},t.reportid=-1;else{t.isExport.visible=!1,t.reportid=a.id,t.reportData={userid:t.loginid,question:a.question,measure:a.plan,wenti:a.problem,remark:a.remark};var i=a.filepath,r={};if(null==i||""==i)t.fileList=[],t.fileArr=[];else{var s;s=(i=i.replace(/,$/gi,"")).split(",");for(var o=0;o<s.length;o++)r.name=s[o],r.url=t.imgIp+s[o],t.fileList.push(r),t.fileArr.push(r.name)}}t.reportVisible.visible=!0})}else t.isExport.visible=!1,t.$confirm("<span style='color:#f00;'>已重复报送</span>，确定继续报送吗？","提示",{dangerouslyUseHTMLString:!0,type:"warning",center:!0,modal:!1,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.reportVisible.visible=!0,t.reportData.question=e.data.obj.question,t.reportData.measure=e.data.obj.measure,t.reportData.wenti=e.data.obj.wenti,t.reportData.remark=e.data.obj.remark;var a=e.data.obj.filepath,i={};if(null==a||""==a)t.fileList=[],t.fileArr=[];else{var r;r=(a=a.replace(/,$/gi,"")).split(",");for(var s=0;s<r.length;s++)i.name=r[s],i.url=t.imgIp+r[s],t.fileList.push(i),t.fileArr.push(i.name)}}).catch(function(){t.$message({type:"info",message:"取消报送"})})})},repeatSubmit2:function(e){var t=this;this.fileList=[],this.fileArr=[],Object(h.n)(e,function(a){if(null==a.data.obj){t.reportVisible.visible=!0;var i={userid:t.loginid,termid:t.checkid,modeltype:e.type};Object(f.L)(i,function(e){var a=e.data.obj;if(null==a)t.reportData={userid:t.loginid},t.reportid=-1;else{t.isExport.visible=!1,t.reportid=a.id,t.reportData={userid:t.loginid,question:a.question,measure:a.plan,wenti:a.problem,remark:a.remark};var i=a.filepath,r={};if(null==i||""==i)t.fileList=[],t.fileArr=[];else{var s;s=(i=i.replace(/,$/gi,"")).split(",");for(var o=0;o<s.length;o++)r.name=s[o],r.url=t.imgIp+s[o],t.fileList.push(r),t.fileArr.push(r.name)}}})}else t.isExport.visible=!1,t.$confirm("<span style='color:#f00;'>已重复报送</span>，确定继续报送吗？","提示",{dangerouslyUseHTMLString:!0,type:"warning",center:!0,modal:!1,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.reportVisible.visible=!0,t.reportData.userid=t.loginid,t.reportData.question=a.data.obj.question,t.reportData.measure=a.data.obj.measure,t.reportData.wenti=a.data.obj.wenti,t.reportData.remark=a.data.obj.remark,t.reportData.agentname=a.data.obj.agentname,t.reportData.agentphone=a.data.obj.agentphone;var e=a.data.obj.filepath,i={};if(null==e||""==e)t.fileList=[],t.fileArr=[];else{var r;r=(e=e.replace(/,$/gi,"")).split(",");for(var s=0;s<r.length;s++)i.name=r[s],i.url=t.imgIp+r[s],t.fileList.push(i),t.fileArr.push(i.name)}}).catch(function(){t.$message({type:"info",message:"取消报送"}),t.reportVisible=!1})})},importworkRepeatSubmit:function(e){var t=this;this.fileList=[],this.fileArr=[],Object(g.J)(e,function(a){if(null==a.data.obj){t.isExport.visible=!0,t.reportVisible.visible=!0;var i={userid:t.loginid,termid:e.pointid,modeltype:12};Object(f.L)(i,function(e){var a=e.data.obj;if(null==a)t.reportData={userid:t.loginid},t.reportid=-1;else{t.isExport.visible=!1,t.reportid=a.id,t.reportData={userid:t.loginid,question:a.question,measure:a.plan,wenti:a.problem,remark:a.remark};var i=a.filepath,r={};if(null==i||""==i)t.fileList=[],t.fileArr=[];else{var s;s=(i=i.replace(/,$/gi,"")).split(",");for(var o=0;o<s.length;o++)r.name=s[o],r.url=t.imgIp+s[o],t.fileList.push(r),t.fileArr.push(r.name)}}})}else t.$confirm("<span style='color:#f00;'>已重复报送</span>，确定继续报送吗？","提示",{dangerouslyUseHTMLString:!0,type:"warning",center:!0,modal:!1,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.isExport.visible=!1,t.reportVisible.visible=!0,t.reportData.userid=t.loginid,t.reportData.question=a.data.obj.question,t.reportData.measure=a.data.obj.measure,t.reportData.wenti=a.data.obj.wenti,t.reportData.remark=a.data.obj.remark;var e=a.data.obj.filepath,i={};if(null==e||""==e)t.fileList=[],t.fileArr=[];else{var r;r=(e=e.replace(/,$/gi,"")).split(",");for(var s=0;s<r.length;s++)i.name=r[s],i.url=t.imgIp+r[s],t.fileList.push(i),t.fileArr.push(i.name)}}).catch(function(){t.$message({type:"info",message:"取消报送"}),t.reportVisible=!1})})},repeatDatas:function(){this.filepath=[],this.fileList=[],this.fileArr=[],this.reportData={},this.reportBasic={},this.laststate=""},projectDetailFuc:function(e){var t=this;Object(b.o)({projectid:e},function(e){t.reportBasic=e.data.obj,t.reportBasic.streets=t.reportBasic.streetDeptName,0==t.reportBasic.category?t.reportBasic.category="一般项目":t.reportBasic.category="重点项目";var a=[];if(null==e.data.obj.leaderDeptList)a=[];else for(var i=e.data.obj.leaderDeptList,r=0;r<i.length;r++)a.push(i[r].deptName);t.reportBasic.leaderDeptName=a.join(", ")})},assignDetailFuc:function(e){var t=this;Object(m.c)({checkId:e},function(e){t.reportBasic=e.data.obj;var a=e.data.obj.arealeadNameList;null==a&&(a=[]),t.reportBasic.leadername=a.join(",");var i=e.data.obj.leaderList,r=[];if(null==i)r=[];else for(var s=0;s<i.length;s++)r.push(i[s].deptName);t.reportBasic.leaderDeptName=r.join(", ")})},threeDetailFuc:function(e,t){var a=this;Object(g.Q)({workid:e,typemodel:t},function(e){a.reportBasic=e.data.obj.partterm,a.reportBasic.superdept=e.data.obj.superdept;var t=e.data.obj.areaLeaderNames;if(null==t)t="",a.reportBasic.leaders="";else{t=t.replace(/,$/gi,""),a.reportBasic.leaders=t}a.reportBasic.workname=e.data.obj.workname,a.reportBasic.nodeplan=e.data.obj.nodeplan;var i=e.data.obj.leaderDeptList,r=[];if(null==i)r=[];else for(var s=0;s<i.length;s++)r.push(i[s].deptName);a.reportBasic.leaderDeptName=r.join(", ")})},importworkDetailFuc:function(e){var t=this;Object(g.D)({pointid:e},function(e){t.reportBasic=e.data.obj;var a=e.data.obj.areaLeaderNames;if(null==a)a="",t.reportBasic.leaders="";else{a=a.replace(/,$/gi,""),t.reportBasic.leaders=a}t.reportBasic.workname=e.data.obj.workname;var i=e.data.obj.leaderDeptList,r=[];if(null==i)r=[];else for(var s=0;s<i.length;s++)r.push(i[s].deptName);t.reportBasic.leaderDeptName=r.join(", ")})},handleSubmit:function(e,t){var a=this;if(this.repeatDatas(),this.checkid=t.pid,this.reportType=t.warnType,1==this.reportType){this.itemShow=1,Object(h.a)({userid:this.loginid,projectid:this.checkid},function(e){a.laststate=e.data.obj.question}),this.projectDetailFuc(this.checkid);var i={};i.projectid=this.checkid,i.userid=this.loginid,this.repeatSubmit(i)}else if(2==this.reportType){this.itemShow=2,Object(m.q)({userid:this.loginid,checkid:this.checkid},function(e){a.laststate=e.data.obj.question}),this.assignDetailFuc(this.checkid);var r={};r.checkid=this.checkid,r.userid=this.loginid,this.repeatSubmit3(r)}else if(3==this.reportType){this.itemShow=3,Object(g.N)({userid:this.loginid,workid:this.checkid,typemodel:1},function(e){a.laststate=e.data.obj.question});var s=1;this.threeDetailFuc(this.checkid,s);var o={};o.workid=this.checkid,o.userid=this.loginid,o.typemodel=1,o.type=3,this.repeatSubmit2(o)}else if(4==this.reportType){this.itemShow=4,Object(g.N)({userid:this.loginid,workid:this.checkid,typemodel:2},function(e){a.laststate=e.data.obj.question});s=2;this.threeDetailFuc(this.checkid,s);var l={};l.workid=this.checkid,l.userid=this.loginid,l.typemodel=2,l.type=4,this.repeatSubmit2(l)}else if(7==this.reportType){this.itemShow=7,Object(w.G)({workid:this.checkid},function(e){null==e.data.obj?a.laststate="":a.laststate=e.data.obj.question}),this.keyWorkdetailFuc(this.checkid);var n={};n.workid=this.checkid,n.userid=this.loginid,this.repeatKeywork(n)}else if(8==this.reportType){this.itemShow=8,Object(w.F)({workid:this.checkid},function(e){null==e.data.obj?a.laststate="":a.laststate=e.data.obj.question}),this.keyAreadetailFuc(this.checkid);var c={};c.workid=this.checkid,c.userid=this.loginid,this.repeatKeyarea(c)}else if(11==this.reportType){this.itemShow=9,Object(w.E)({sid:this.checkid,userid:this.loginid},function(e){a.laststate=e.data.obj.question}),this.keyItemdetailFuc(this.checkid);var p={};p.situationid=this.checkid,p.userid=this.loginid,this.repeatKeyitem(p)}else if(12==this.reportType){this.itemShow=10,Object(g.M)({userid:this.loginid,pointid:this.checkid},function(e){a.laststate=e.data.obj.question}),this.importworkDetailFuc(this.checkid);var u={};u.pointid=this.checkid,u.userid=this.loginid,this.importworkRepeatSubmit(u)}},keyWorkdetailFuc:function(e){var t=this;Object(w.A)({workid:e},function(e){t.detailData=e.data.obj,t.reportBasic=t.detailData.tripleWorkProgress,t.reportBasic.yearname=t.detailData.tripleWorkProgress.year,t.reportBasic.leaders=t.detailData.tripleWorkProgress.dutyleadname;var a=e.data.obj.tripleWorkProgressLeadDeptList,i=[];if(null==a)i=[];else for(var r=0;r<a.length;r++)i.push(a[r].deptName);t.reportBasic.leaderDeptName=i.join(", ")})},repeatKeywork:function(e){var t=this;this.fileList=[],this.fileArr=[],Object(w.K)(e,function(e){if(t.isExport.visible=!0,1==e.data.obj)t.$confirm("<span style='color:#f00;'>已重复报送</span>，确定继续报送吗？","提示",{dangerouslyUseHTMLString:!0,type:"warning",center:!0,modal:!1,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.reportVisible.visible=!0}).catch(function(){t.$message({type:"info",message:"取消报送"}),t.reportVisible.visible=!1});else{var a={userid:t.loginid,termid:t.workid,modeltype:7};Object(f.L)(a,function(e){var a=e.data.obj;if(null==a)t.reportData={userid:t.loginid},t.reportid=-1;else{t.isExport.visible=!1,t.reportid=a.id,t.reportData={userid:t.loginid,question:a.question,measure:a.plan,wenti:a.problem,remark:a.remark};var i=a.filepath,r={};if(null==i||""==i)t.fileList=[],t.fileArr=[];else{var s;s=(i=i.replace(/,$/gi,"")).split(",");for(var o=0;o<s.length;o++)r.name=s[o],r.url=t.imgIp+s[o],t.fileList.push(r),t.fileArr.push(r.name)}}t.reportVisible.visible=!0})}})},repeatKeyarea:function(e){var t=this;this.fileList=[],this.fileArr=[],Object(w.J)(e,function(e){if(1==e.data.obj)t.$confirm("<span style='color:#f00;'>已重复报送</span>，确定继续报送吗？","提示",{dangerouslyUseHTMLString:!0,type:"warning",center:!0,modal:!1,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.reportVisible.visible=!0}).catch(function(){t.$message({type:"info",message:"取消报送"}),t.reportVisible.visible=!1});else{var a={userid:t.loginid,termid:t.workid,modeltype:8};Object(f.L)(a,function(e){var a=e.data.obj;if(t.isExport.visible=!0,null==a)t.reportData={userid:t.loginid},t.reportid=-1;else{t.isExport.visible=!1,t.workid=!1,t.reportid=a.id,t.reportData={userid:t.loginid,question:a.question,measure:a.plan,wenti:a.problem,remark:a.remark};var i=a.filepath,r={};if(null==i||""==i)t.fileList=[],t.fileArr=[];else{var s;s=(i=i.replace(/,$/gi,"")).split(",");for(var o=0;o<s.length;o++)r.name=s[o],r.url=t.imgIp+s[o],t.fileList.push(r),t.fileArr.push(r.name)}}t.reportVisible.visible=!0})}})},repeatKeyitem:function(e){var t=this;this.fileList=[],this.fileArr=[],Object(w.I)(e,function(e){if(null==e.data.obj||0==e.data.obj){t.reportVisible.visible=!0;var a={userid:t.loginid,termid:t.workid,modeltype:9};Object(f.L)(a,function(e){var a=e.data.obj;if(null==a)t.reportData={userid:t.loginid},t.reportid=-1;else{t.isExport.visible=!1,t.reportid=a.id,t.reportData={userid:t.loginid,question:a.question,measure:a.plan,wenti:a.problem,remark:a.remark};var i=a.filepath,r={};if(null==i||""==i)t.fileList=[],t.fileArr=[];else{var s;s=(i=i.replace(/,$/gi,"")).split(",");for(var o=0;o<s.length;o++)r.name=s[o],r.url=t.imgIp+s[o],t.fileList.push(r),t.fileArr.push(r.name)}}})}else t.$confirm("<span style='color:#f00;'>已重复报送</span>，确定继续报送吗？","提示",{dangerouslyUseHTMLString:!0,type:"warning",center:!0,modal:!1,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.reportVisible.visible=!0,t.reportData.userid=t.loginid,t.reportData.question=e.data.obj.question,t.reportData.measure=e.data.obj.measure,t.reportData.wenti=e.data.obj.wenti,t.reportData.remark=e.data.obj.remark;var a=e.data.obj.filepath,i={};if(null==a||""==a)t.fileList=[],t.fileArr=[];else{var r;r=(a=a.replace(/,$/gi,"")).split(",");for(var s=0;s<r.length;s++)i.name=r[s],i.url=t.imgIp+r[s],t.fileList.push(i),t.fileArr.push(i.name)}}).catch(function(){t.$message({type:"info",message:"取消报送"}),t.reportVisible.visible=!1})})},keyAreadetailFuc:function(e){var t=this;Object(w.x)({workid:e},function(e){t.detailData=e.data.obj,t.reportBasic=t.detailData.tripleAreaProgress,t.reportBasic.yearname=t.detailData.tripleAreaProgress.year;var a=t.detailData.tripleAreaProgress.arealeadnames;if(null==a)a="",t.reportBasic.leaders="";else{a=a.replace(/,$/gi,""),t.reportBasic.leaders=a}var i=e.data.obj.tripleAreaProgressLeadDeptList,r=[];if(null==i)r=[];else for(var s=0;s<i.length;s++)r.push(i[s].deptName);t.reportBasic.leaderDeptName=r.join(", ")})},keyItemdetailFuc:function(e){var t=this;Object(w.C)({id:e},function(e){t.detailData=e.data.obj,t.reportBasic={projectname:t.detailData.projectname,timenode:t.detailData.timenode,yearname:t.detailData.yearname};var a=t.detailData.leadername;t.reportBasic.leaders=null==a?"":a.join(",");var i=e.data.obj.ldeptList,r=[];if(null==i)r=[];else for(var s=0;s<i.length;s++)r.push(i[s].deptName);t.reportBasic.leaderDeptName=r.join(", ")})},saveReport:function(){var e=this;0==this.fileArr.length||(1==this.fileArr.length?this.fileArr[0]:this.fileArr.join(","));var t=this.reportData;t.problem=this.reportData.wenti,t.plan=this.reportData.measure,-1==this.reportid||(t.id=this.reportid),t.modeltype=this.itemShow,t.filepath="",t.termid=this.checkid,Object(f.N)(t,function(t){e.$message({type:"success",message:"保存成功"}),e.isExport.visible=!1})},submitReport:function(){1==this.reportType?this.submitProjectReport():2==this.reportType?this.receiptSubmit():3==this.reportType?this.submitEvolveForm():this.submitEvolveForm2()},submitProjectReport:function(){var e=this;this.$refs.reportChild.$refs.reportData.validate(function(t){if(!t)return!1;var a="";e.fileArr==[]?a="":1==e.fileArr.length?a+=e.fileArr[0]+",":a=e.fileArr.join(","),e.reportData.filepath=a;var i=e.reportData;i.userid=e.loginid,i.projectid=e.checkid,i.validate=0,Object(b.b)(i,function(t){e.reportVisible=!1,e.$alert("<span style='color:#f00;'>报送成功</span>，请等待上级部门审核通过","提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"我知道了",type:"success",center:!0,modal:!1}),e.getAllList()})})},receiptSubmit:function(){var e=this;this.$refs.reportChild.$refs.reportData.validate(function(t){if(!t)return!1;var a="";e.fileArr==[]?a="":1==e.fileArr.length?a+=e.fileArr[0]+",":a=e.fileArr.join(","),e.reportData.filepath=a;var i=e.reportData;i.userid=e.loginid,i.checkid=e.checkid,i.validate=0,addReceipt(i,function(t){e.reportVisible=!1,e.$alert("<span style='color:#f00;'>报送成功</span>，请等待上级部门审核通过","提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"我知道了",type:"success",center:!0,modal:!1}),e.getAllList()})})},submitEvolveForm:function(){var e=this;this.$refs.reportChild.$refs.reportData.validate(function(t){if(t){var a="";e.fileArr==[]?a="":1==e.fileArr.length?a+=e.fileArr[0]+",":a=e.fileArr.join(","),e.reportData.filepath=a;var i=e.reportData;i.userid=e.loginid,i.workid=e.checkid,i.validate=0,i.typemodel=1,Object(g.g)(i,function(t){e.reportVisible=!1,e.$alert("<span style='color:#f00;'>报送成功</span>，请等待上级部门审核通过","提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"我知道了",type:"success",center:!0,modal:!1}),e.getAllList()})}})},submitEvolveForm2:function(){var e=this;this.$refs.reportChild.$refs.reportData.validate(function(t){if(t){var a="";e.fileArr==[]?a="":1==e.fileArr.length?a+=e.fileArr[0]+",":a=e.fileArr.join(","),e.reportData.filepath=a;var i=e.reportData;i.userid=e.loginid,i.workid=e.checkid,i.typemodel=2,i.validate=0,Object(g.g)(i,function(t){e.reportVisible=!1,e.$alert("<span style='color:#f00;'>报送成功</span>，请等待上级部门审核通过","提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"我知道了",type:"success",center:!0,modal:!1}),e.getAllList()})}})},selectChange:function(){this.$forceUpdate()},areaNopass:function(){var e=this;this.$confirm("确定不通过吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={audit:2,addnum:e.addnum};5==e.reportType?t.reportType="区级指标管理":t.reportType="承办单位指标管理",t.reason=e.areaNopassReason,t.economicId=e.eid,t.isZhiHou=e.zhihouForm.orZhiHou,Object(h.r)(t,function(t){e.$message({message:"通过审核",type:"success"}),e.innerAreaVisible=!1,e.indexVisible=!1,e.indexAreaVisible=!1,e.getAllList(),e.reportType="",e.addnum="",e.zhihouForm={}})}).catch(function(){e.$message({type:"info",message:"取消操作"})})},nopassClick:function(){var e=this;this.$refs.zhihouForm.validate(function(t){if(!t)return!1;e.innerAreaVisible=!0})},areaGopass:function(){var e=this;this.$refs.zhihouForm.validate(function(t){if(!t)return!1;e.$confirm("此操作将通过审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={audit:1,addnum:e.addnum};5==e.reportType?t.reportType="区级指标管理":4==e.reportType&&(t.reportType="承办单位指标管理"),t.economicId=e.eid,t.isZhiHou=e.zhihouForm.orZhiHou,Object(h.r)(t,function(t){e.$message({message:"通过审核",type:"success"}),e.innerAreaVisible=!1,e.indexVisible=!1,e.indexAreaVisible=!1,e.getAllList(),e.reportType="",e.addnum="",e.eid="",e.zhihouForm={}})}).catch(function(){e.$message({type:"info",message:"取消操作"})})})},handleVerifySubmit:function(e,t){var a=this;if(4==t.transType){this.indexAreaVisible=!0,this.sureShow=!1,this.zhihouShow=!0,this.btnShow=!0,this.areaDatas=[],this.reportType=t.transType,this.addnum=t.reportid,this.choosename=t.transName,this.eid=t.bigid;var i={economicid:t.bigid,addnum:t.reportid};this.zhihouForm={orZhiHou:0},Object(v.s)(i,function(e){null==e.data.obj?(a.areaDatas=[],a.isNumshow=!0,a.isZengshow=!0):(a.areaDatas=e.data.obj,0==a.areaDatas[0].economicType?(a.isNumshow=!0,a.isZengshow=!1):(a.isNumshow=!1,a.isZengshow=!0)),a.merage()})}else if(5==t.transType){this.indexVisible=!0,this.sureShow=!1,this.zhihouShow=!0,this.btnShow=!0,this.preDatas=[],this.reportType=t.transType,this.addnum=t.reportid,this.viewTitle=t.transName,this.eid=t.bigid,this.zhihouForm={orZhiHou:0};var r={economicid:t.bigid,addnum:t.reportid};Object(v.c)(r,function(e){null==e.data.obj?(a.preDatas=[],a.isNumshow=!0,a.isZengshow=!0):(a.preDatas=e.data.obj,0==a.preDatas[0].economicType?(a.isNumshow=!0,a.isZengshow=!1):(a.isNumshow=!1,a.isZengshow=!0))})}else{this.examineData={isZhiHou:0},this.zhihouShow=!0,this.sureShow=!1,this.btnShow=!0,this.reasonShow=!1,this.examineFileArr=[],this.bigid=t.bigid,this.examineId=t.reportid,this.examineType=t.transType;var s={type:t.transType,detailId:t.reportid};this.examineTitle="审核进展汇报",this.examineVisible=!0,Object(h.e)(s,function(e){if(""==e.data.obj)a.examineData={isZhiHou:0},a.examineFileArr=[];else{a.examineData=e.data.obj,a.examineData.isZhiHou=0;var i=e.data.obj.filepath;if(""==i||null==i)a.examineFileArr=[],a.noneFile=!0;else{a.noneFile=!1;var r=(i=i.split(",")).length;""==i[r-1]&&i.splice(r-1,1);for(var s=i,o=0;o<s.length;o++){var l={};l.url=a.imgIp+s[o],l.name=s[o],a.examineFileArr.push(l)}}}if(1==t.transType)a.itemShow=1,Object(h.o)({projectid:t.bigid,reportDept:t.reportdept},function(e){a.laststate=e.data.obj}),a.projectDetailFuc(a.bigid);else if(2==t.transType)a.itemShow=2,Object(m.q)({userid:a.loginid,checkid:t.bigid},function(e){a.laststate=e.data.obj.question}),a.assignDetailFuc(a.bigid);else if(3==t.transType){a.itemShow=3,Object(h.p)({typemodel:1,workid:t.bigid,reportDept:t.reportdept},function(e){a.laststate=e.data.obj});a.threeDetailFuc(a.bigid,1)}else if(6==t.transType){a.itemShow=4,Object(h.p)({typemodel:2,workid:t.bigid,reportDept:t.reportdept},function(e){a.laststate=e.data.obj});a.threeDetailFuc(a.bigid,2)}else 9==t.transType?(a.itemShow=7,Object(w.G)({workid:a.bigid},function(e){null==e.data.obj?a.laststate="":a.laststate=e.data.obj.question}),a.keyWorkdetailFuc(a.bigid)):10==t.transType?(a.itemShow=8,Object(w.F)({workid:a.bigid},function(e){null==e.data.obj?a.laststate="":a.laststate=e.data.obj.question}),a.keyAreadetailFuc(a.bigid)):11==t.transType?(a.itemShow=9,Object(w.E)({sid:a.bigid,userid:a.bigid},function(e){a.laststate=e.data.obj.question}),a.keyItemdetailFuc(a.bigid)):12==t.transType&&(a.itemShow=10,Object(g.M)({pointid:t.bigid,reportDept:t.reportdept,userid:a.loginid},function(e){a.laststate=e.data.obj.question}),a.importworkDetailFuc(a.bigid))})}},gopass:function(){var e=this;this.$refs.examineChild.$refs.examineData.validate(function(t){if(!t)return!1;e.$confirm("此操作将通过审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={type:e.examineType,detailId:e.examineId,status:2,bigid:e.bigid,isZhiHou:e.examineData.isZhiHou};Object(h.j)(t,function(t){e.$message({message:"通过审核",type:"success"}),e.examineVisible=!1,e.examineData={},e.getAllList(),1==e.examineType?Object(h.k)({pid:e.bigid},function(e){}):2==e.examineType?Object(h.b)({cid:e.bigid},function(e){}):3==e.examineType?Object(h.q)({workid:e.workid,typemodel:1},function(e){}):6==e.examineType?Object(h.q)({workid:e.workid,typemodel:2},function(e){}):7==e.examineType||e.examineType})}).catch(function(){e.$message({type:"info",message:"取消操作"}),e.examineData={}})})},nopass:function(){var e=this;this.$refs.examineChild.$refs.examineData.validate(function(t){if(!t)return!1;e.innerVisible=!0})},reasonBtns:function(){var e=this;this.$confirm("确定不通过审核吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.innerVisible=!1;var t={type:e.examineType,detailId:e.examineId,status:1,bigid:e.bigid,reason:e.nopassReason,isZhiHou:e.examineData.isZhiHou};Object(h.j)(t,function(t){e.$message({message:"审核成功",type:"success"}),e.examineVisible=!1,e.getAllList(),e.examineData={},e.nopassReason=""})}).catch(function(){e.$message({type:"info",message:"取消操作"}),e.examineData={},e.nopassReason=""})},merageInit:function(){this.spanArr=[],this.spanPos=0},merage:function(){this.merageInit();for(var e=0;e<this.areaDatas.length;e+=1)0===e?(this.spanArr.push(1),this.spanPos=0):this.areaDatas[e].deptcategory===this.areaDatas[e-1].deptcategory?(this.spanArr[this.spanPos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.spanPos=e)},isfinishFormat:function(e,t){switch(t){case 0:return"是";case 1:return"否"}},fscheduleFormat:function(e,t){return t<0?"<span style='color:#f00;'>"+t+"</span>":"<span>"+t+"</span>"},amountFormat:function(e,t){return t<0?"<span style='color:#f00;'>"+t+"</span>":"<span>"+t+"</span>"},overtargetFormat:function(e,t){return null==t?"<span>/</span>":t<0?"<span style='color:#f00;'>"+t+"</span>":"<span>"+t+"</span>"},typeSpanMethod:function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex){var a=this.spanArr[t];return{rowspan:a,colspan:a>0?1:0}}},targetVerifySubmit:function(e,t){var a=this;if(this.reportType=t.reportType,this.addnum=t.addnum,"区级指标管理"==t.reportType){this.viewTitle=t.economicName;var i={economicid:t.economicId,addnum:t.addnum};Object(v.c)(i,function(e){a.preDatas=e.data.obj,a.indexVisible=!0})}else{this.choosename=t.economicName;var r={economicid:t.economicId,addnum:t.addnum};Object(v.s)(r,function(e){a.indexAreaVisible=!0,a.areaDatas=e.data.obj,a.merage()})}},gopass3:function(){var e=this;this.$confirm("此操作将通过审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={audit:1,addnum:e.addnum};"区级指标管理"==e.reportType?t.reportType="区级指标管理":t.reportType="承办单位指标管理",Object(h.r)(t,function(t){e.$message({message:"通过审核",type:"success"}),e.addnum="",e.indexVisible=!1,e.indexAreaVisible=!1,e.getAllList(),e.reportType=""})}).catch(function(){e.$message({type:"info",message:"取消操作"})})},nopass3:function(){this.innerVisible3=!0},reasonBtns3:function(){var e=this;this.$confirm("确定不通过吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={audit:2,addnum:e.addnum};"区级指标管理"==e.reportType?t.reportType="区级指标管理":t.reportType="承办单位指标管理",Object(h.r)(t,function(t){e.$message({message:"通过审核",type:"success"}),e.innerVisible3=!1,e.indexAreaVisible=!1,e.addnum="",e.indexVisible=!1,e.getAllList(),e.reportType=""})}).catch(function(){e.$message({type:"info",message:"取消操作"})})}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrap center"},[e._m(0),e._v(" "),a("div",{staticClass:"mycenter-wrap"},[a("div",{staticClass:"leftbox"},[a("el-card",{staticClass:"box-card box-card1"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("逾期次数")])]),e._v(" "),a("div",{staticClass:"numbox",attrs:{id:"mycharts-two"}})]),e._v(" "),a("el-card",{staticClass:"box-card box-card1"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("材料审核未通过")])]),e._v(" "),a("div",{staticClass:"numbox",attrs:{id:"mycharts-three"}})]),e._v(" "),a("el-card",{staticClass:"box-card box-card1"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("工作滞后")])]),e._v(" "),a("div",{staticClass:"numbox",attrs:{id:"mycharts-four"}})])],1),e._v(" "),a("div",{staticClass:"rightbox"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("预警信息")])]),e._v(" "),a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",height:"400px",data:e.earlyData,"highlight-current-row":"","cell-class-name":e.cellClassName,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"warnName",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{staticStyle:{"max-width":"300px","line-height":"1.8"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.warnName))]),e._v(" "),a("p",{staticClass:"title title-ellipsis"},[e._v(e._s(t.row.warnName))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"warnTypeSearch",label:"类别",filters:e.watypes,"filter-method":e.filterTag4,"filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.warnTypeSearch?a("span",[e._v("重点项目")]):2==t.row.warnTypeSearch?a("span",[e._v("批交办事项")]):3==t.row.warnTypeSearch?a("span",[e._v("三年行动计划")]):4==t.row.warnTypeSearch?a("span",[e._v("现场办公会")]):9==t.row.warnTypeSearch?a("span",[e._v("区级指标管理")]):10==t.row.warnTypeSearch?a("span",[e._v("承办单位指标管理")]):7==t.row.warnTypeSearch?a("span",[e._v("片区督查")]):12==t.row.warnTypeSearch?a("span",[e._v("重点工作")]):a("span",[e._v("/")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"endTime",formatter:e.timestampToTime2,label:"截止时间",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"formstatus",label:"材料报送",filters:[{text:"预警",value:1},{text:"逾期",value:2},{text:"完结",value:-1},{text:"正常",value:0}],"filter-method":e.filterFormstatus,"filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"medium"}},[1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):2==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#f00"}}):-1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):null==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{display:"none"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.formstatusFormat(t,t.row.formstatus))}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"totalstatus",label:"总体进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"medium"}},[3==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#364e98"}}):4==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#7c1d77"}}):-1==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):1==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):null==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{display:"none"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.totalstatusFormat(t,t.row.totalstatus))}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.handleDetail(t.row)}}},[e._v("详情")]),e._v(" "),e.reportBtnShow?a("el-button",{staticClass:"btn baobtn",on:{click:function(a){e.handleSubmit(t.$index,t.row)}}},[e._v("报送")]):e._e()]}}])})],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("待审核事务")])]),e._v(" "),a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.tobeCheck,"highlight-current-row":"","cell-class-name":e.cellClassName,"row-class-name":e.shenheRowClassName,height:"400px"}},[e.postUnit?a("el-table-column",{attrs:{prop:"reportdept",label:"报送单位",filters:e.redetps,"filter-method":e.filterTag2,"filter-placement":"bottom"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"transTypeSearch",label:"报送类别",width:"130px",filters:e.retypes,"filter-method":e.filterTag3,"filter-placement":"bottom"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.transTypeSearch?a("span",[e._v("重点项目")]):2==t.row.transTypeSearch?a("span",[e._v("批交办事项")]):3==t.row.transTypeSearch?a("span",[e._v("三年行动计划")]):4==t.row.transTypeSearch?a("span",[e._v("承办单位指标管理")]):5==t.row.transTypeSearch?a("span",[e._v("区级指标管理")]):6==t.row.transTypeSearch?a("span",[e._v("现场办公会")]):9==t.row.transTypeSearch?a("span",[e._v("片区督查")]):12==t.row.transTypeSearch?a("span",[e._v("重点工作")]):a("span",[e._v("/")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"transName",label:"报送关联事务"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{staticStyle:{"max-width":"300px","line-height":"1.8"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.transName))]),e._v(" "),a("p",{staticClass:"title title-ellipsis"},[e._v(e._s(t.row.transName))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"reportTime",label:"报送时间",sortable:"",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("dateformat")(t.row.reportTime,"YYYY-MM-DD HH:mm:ss")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isCheckShow?a("el-button",{staticClass:"btn nobtn",on:{click:function(a){e.handleVerifySubmit(t.$index,t.row)}}},[e._v("审核")]):e._e()]}}])})],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"card-title"},[e._v("已审核事务")])]),e._v(" "),a("pass-table",{attrs:{passHeight:e.passHeight,passData:e.overCheck,isLeaderUnit:e.isLeaderUnit,overpostUnit:e.overpostUnit}})],1)],1),e._v(" "),a("div",{staticClass:"clear"})]),e._v(" "),a("div",{staticClass:"report-data-box"},[a("report-progress",{attrs:{reportVisible:e.reportVisible,reportData:e.reportData,laststate:e.laststate,itemShow:e.itemShow,workid:e.checkid,reportBasic:e.reportBasic,fileList:e.fileList,fileArr:e.fileArr,isExport:e.isExport},on:{"update:reportVisible":function(t){e.reportVisible=t},"update:fileList":function(t){e.fileList=t},"update:fileArr":function(t){e.fileArr=t},"update:isExport":function(t){e.isExport=t},"getAllList-event":e.getProjectAll}})],1),e._v(" "),a("el-dialog",{staticClass:"report-dialog",attrs:{title:e.examineTitle,visible:e.examineVisible,width:"1200px"},on:{"update:visible":function(t){e.examineVisible=t}}},[a("examine-content",{ref:"examineChild",attrs:{examineVisible:e.examineVisible,examineFileArr:e.examineFileArr,reportBasic:e.reportBasic,examineData:e.examineData,laststate:e.laststate,itemShow:e.itemShow,zhihouShow:e.zhihouShow,noneFile:e.noneFile,reasonShow:e.reasonShow},on:{"update:examineVisible":function(t){e.examineVisible=t},"update:examineFileArr":function(t){e.examineFileArr=t},"update:examineData":function(t){e.examineData=t}}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.btnShow?a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.nopass}},[e._v("不通过")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.gopass}},[e._v("通 过")])],1):e._e(),e._v(" "),e.sureShow?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.examineVisible=!1}}},[e._v("确定")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:"填写不通过原因",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.nopassReason,callback:function(t){e.nopassReason=t},expression:"nopassReason"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.innerVisible=!1}}},[e._v("返回")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.reasonBtns}},[e._v("确定")])],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"task-dialog",attrs:{title:"指标数据审核",visible:e.indexVisible,width:"1200px"},on:{"update:visible":function(t){e.indexVisible=t}}},[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.preDatas,"highlight-current-row":"",height:"400px"}},[a("el-table-column",{attrs:{label:e.viewTitle}},[a("el-table-column",{attrs:{prop:"districtName",label:"区（市）县"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cytarget",label:"市下达全年目标"}}),e._v(" "),a("el-table-column",{attrs:{label:"目标完成额"}},[e.isNumshow?a("el-table-column",{attrs:{label:"绝对量",prop:"amount"}}):e._e(),e._v(" "),e.isNumshow?a("el-table-column",{attrs:{label:"五城区排名",prop:"amountfiverank"}}):e._e(),e._v(" "),e.isNumshow?a("el-table-column",{attrs:{label:"中心城区排名",prop:"amountcentralrank"}}):e._e(),e._v(" "),e.isNumshow?a("el-table-column",{attrs:{label:"全市排名",prop:"amountcityrank"}}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"增幅",prop:"amplify"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.amplify<0?a("p",{staticStyle:{color:"#f00"}},[e._v(e._s(t.row.amplify)+"%")]):null==t.row.amplify?a("p",[e._v("/")]):a("p",[e._v(e._s(t.row.amplify)+"%")])]}}])}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"五城区排名",prop:"amplifyfiverank"}}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"中心城区排名",prop:"amplifycentralrank"}}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"全市排名",prop:"amplifycityrank"}}):e._e()],1),e._v(" "),a("el-table-column",{attrs:{label:"目标完成率"}},[e.isNumshow?a("el-table-column",{attrs:{label:"完成进度",prop:"fschedule"}}):e._e(),e._v(" "),e.isNumshow?a("el-table-column",{attrs:{label:"五城区排名",prop:"fschedulefiverank"}}):e._e(),e._v(" "),e.isNumshow?a("el-table-column",{attrs:{label:"中心城区排名",prop:"fschedulecentralrank"}}):e._e(),e._v(" "),e.isNumshow?a("el-table-column",{attrs:{label:"全市排名",prop:"fschedulecityrank"}}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"超目标百分点",prop:"overtarget"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.overtarget<0?a("p",{staticStyle:{color:"#f00"}},[e._v(e._s(t.row.overtarget)+"%")]):null==t.row.overtarget?a("p",[e._v("/")]):a("p",[e._v(e._s(t.row.overtarget)+"%")])]}}])}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"五城区排名",prop:"overtargetfiverank"}}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"中心城区排名",prop:"overtargetcentralrank"}}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"全市排名",prop:"overtargetcityrank"}}):e._e()],1)],1)],1),e._v(" "),e.zhihouShow?a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",{ref:"zhihouForm",attrs:{model:e.zhihouForm,"label-width":"120px","append-to-body":!0,size:"small"}},[a("el-form-item",{attrs:{label:"是否滞后：",prop:"orZhiHou",rules:[{required:!0,message:"请选择是否滞后",trigger:"change"}]}},[a("el-radio-group",{model:{value:e.zhihouForm.orZhiHou,callback:function(t){e.$set(e.zhihouForm,"orZhiHou",t)},expression:"zhihouForm.orZhiHou"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1)],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.btnShow?a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.nopassClick}},[e._v("不通过")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.areaGopass}},[e._v("通 过")])],1):e._e(),e._v(" "),e.sureShow?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.indexVisible=!1}}},[e._v("确定")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:"填写不通过原因",visible:e.innerAreaVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerAreaVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.areaNopassReason,callback:function(t){e.areaNopassReason=t},expression:"areaNopassReason"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.innerAreaVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.areaNopass}},[e._v("确定")])],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"task-dialog",attrs:{title:"指标数据审核",visible:e.indexAreaVisible,width:"1200px"},on:{"update:visible":function(t){e.indexAreaVisible=t}}},[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.areaDatas,"highlight-current-row":"","span-method":e.typeSpanMethod,height:"500px"}},[a("el-table-column",{attrs:{label:e.choosename}},[a("el-table-column",{attrs:{prop:"deptcategory",label:"类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deptName",label:"街道"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fscrank",label:"进度排名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"amountrank",label:"总量排名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cytarget",label:"任务计划"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.cytarget<0?a("p",{staticStyle:{color:"#f00"}},[e._v(e._s(t.row.cytarget))]):null==t.row.cytarget?a("p",[e._v("/")]):a("p",[e._v(e._s(t.row.cytarget))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"完成情况"}},[e.isNumshow?a("el-table-column",{attrs:{label:"完成总量",prop:"amount"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.amount<0?a("p",{staticStyle:{color:"#f00"}},[e._v(e._s(t.row.amount))]):null==t.row.amount?a("p",[e._v("/")]):a("p",[e._v(e._s(t.row.amount))])]}}])}):e._e(),e._v(" "),e.isNumshow?a("el-table-column",{attrs:{label:"完成进度",prop:"fschedule"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.fschedule<0?a("p",{staticStyle:{color:"#f00"}},[e._v(e._s(t.row.fschedule))]):null==t.row.fschedule?a("p",[e._v("/")]):a("p",[e._v(e._s(t.row.fschedule))])]}}])}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"增幅（%）",prop:"amplify"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.amplify<0?a("p",{staticStyle:{color:"#f00"}},[e._v(e._s(t.row.amplify))]):null==t.row.amplify?a("p",[e._v("/")]):a("p",[e._v(e._s(t.row.amplify))])]}}])}):e._e(),e._v(" "),e.isZengshow?a("el-table-column",{attrs:{label:"超目标百分点（%）",prop:"overtarget"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.overtarget<0?a("p",{staticStyle:{color:"#f00"}},[e._v(e._s(t.row.overtarget)+"%")]):null==t.row.overtarget?a("p",[e._v("/")]):a("p",[e._v(e._s(t.row.overtarget)+"%")])]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"是否完成任务计划",prop:"isfinish"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isfinish?a("p",[e._v("是")]):a("p",{staticStyle:{color:"#f00"}},[e._v("否")])]}}])})],1)],1)],1),e._v(" "),e.zhihouShow?a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",{ref:"zhihouForm",attrs:{model:e.zhihouForm,"label-width":"120px","append-to-body":!0,size:"small"}},[a("el-form-item",{attrs:{label:"是否滞后：",prop:"orZhiHou",rules:[{required:!0,message:"请选择是否滞后",trigger:"change"}]}},[a("el-radio-group",{model:{value:e.zhihouForm.orZhiHou,callback:function(t){e.$set(e.zhihouForm,"orZhiHou",t)},expression:"zhihouForm.orZhiHou"}},[a("el-radio",{attrs:{label:0}},[e._v("否")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1)],1)],1):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.btnShow?a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.nopassClick}},[e._v("不通过")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.areaGopass}},[e._v("通 过")])],1):e._e(),e._v(" "),e.sureShow?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.indexAreaVisible=!1}}},[e._v("确定")]):e._e()],1),e._v(" "),a("el-dialog",{attrs:{width:"400px",title:"填写不通过原因",visible:e.innerAreaVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerAreaVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.areaNopassReason,callback:function(t){e.areaNopassReason=t},expression:"areaNopassReason"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.innerAreaVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.areaNopass}},[e._v("确定")])],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"managebox",attrs:{title:"详情",visible:e.detailFormVisible,width:"1200px"},on:{"update:visible":function(t){e.detailFormVisible=t}}},[a("el-row",{staticClass:"addrow"},[a("el-col",{attrs:{span:24}},[a("fieldset",[a("legend",[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"boxcontent",staticStyle:{"padding-left":"0"}},[a("el-form",{ref:"detailForm",attrs:{model:e.detailForm,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"指标名称：",prop:"name"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.name,callback:function(t){e.$set(e.detailForm,"name",t)},expression:"detailForm.name"}})],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"年度：",prop:"year"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.year,callback:function(t){e.$set(e.detailForm,"year",t)},expression:"detailForm.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计量单位：",prop:"unit"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.unit,callback:function(t){e.$set(e.detailForm,"unit",t)},expression:"detailForm.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标类型：",prop:"type"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.type,callback:function(t){e.$set(e.detailForm,"type",t)},expression:"detailForm.type"}})],1)],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"牵头区领导：",prop:"leadername"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.leadername,callback:function(t){e.$set(e.detailForm,"leadername",t)},expression:"detailForm.leadername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"市下达全年目标：",prop:"cytarget"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.cytarget,callback:function(t){e.$set(e.detailForm,"cytarget",t)},expression:"detailForm.cytarget"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区定全年目标：",prop:"dytarget"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.dytarget,callback:function(t){e.$set(e.detailForm,"dytarget",t)},expression:"detailForm.dytarget"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"remark",attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},readonly:""},model:{value:e.detailForm.remark,callback:function(t){e.$set(e.detailForm,"remark",t)},expression:"detailForm.remark"}})],1)],1)],1)])])],1),e._v(" "),a("el-row",{staticClass:"index-leader",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("牵头单位")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-table",{staticClass:"tableinfo",attrs:{border:"",data:e.leadsData,"highlight-current-row":"",height:"200px"}},[a("el-table-column",{attrs:{prop:"deptName",label:"牵头单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leadername",label:"责任领导"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leaderphone",label:"联系方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"formstatus",label:"报送状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tag",{attrs:{size:"small"}},[1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):2==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#f00"}}):-1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.formstatusFormat(t,t.row.formstatus))}})])],1)]}}])})],1)],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("报送规则")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.ruleList,"highlight-current-row":"",height:"200px"}},[a("el-table-column",{attrs:{prop:"stagename",label:"阶段"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cycletype",label:"报送周期",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.cycletype?a("p",[e._v("每月")]):4==t.row.cycletype?a("p",[e._v("季度")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"warnday",label:"提前预警(天)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[1==t.row.status?a("el-tag",{attrs:{size:"small"}},[a("i",{staticClass:"fa mark",staticStyle:{background:"#364e98"}}),e._v(" "),a("span",[e._v("执行中")])]):2==t.row.status?a("el-tag",{attrs:{size:"small"}},[a("i",{staticClass:"fa mark"}),e._v(" "),a("span",[e._v("未执行")])]):0==t.row.status?a("el-tag",{attrs:{size:"small"}},[a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}),e._v(" "),a("span",[e._v("失效")])]):a("p",[e._v("/")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:function(a){e.detailRuleBtn(t.$index,t.row)}}},[e._v("详情")])]}}])})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.detailFormVisible=!1}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"rule-dialog",attrs:{title:"规则详情",visible:e.detailRuleVisible,width:"420px"},on:{"update:visible":function(t){e.detailRuleVisible=t}}},[a("div",[a("el-form",{ref:"ruledetailForm",attrs:{model:e.ruledetailForm,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"预警条件：",prop:"stagename"}},[a("el-input",{attrs:{readonly:""},model:{value:e.ruledetailForm.stagename,callback:function(t){e.$set(e.ruledetailForm,"stagename",t)},expression:"ruledetailForm.stagename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预警条件：",prop:"condition"}},[a("el-input",{attrs:{readonly:""},model:{value:e.ruledetailForm.condition,callback:function(t){e.$set(e.ruledetailForm,"condition",t)},expression:"ruledetailForm.condition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预警日期：",prop:"date"}},[a("el-input",{attrs:{readonly:""},model:{value:e.ruledetailForm.date,callback:function(t){e.$set(e.ruledetailForm,"date",t)},expression:"ruledetailForm.date"}})],1),e._v(" "),a("el-form-item",{staticClass:"day",attrs:{label:"提前：",prop:"warnday"}},[a("el-input",{attrs:{readonly:""},model:{value:e.ruledetailForm.warnday,callback:function(t){e.$set(e.ruledetailForm,"warnday",t)},expression:"ruledetailForm.warnday"}},[a("template",{slot:"append"},[e._v("天预警")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间：",prop:"starttime"}},[a("el-date-picker",{attrs:{type:"date",readonly:"",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruledetailForm.starttime,callback:function(t){e.$set(e.ruledetailForm,"starttime",t)},expression:"ruledetailForm.starttime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间：",prop:"endtime"}},[a("el-date-picker",{attrs:{type:"date",readonly:"",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruledetailForm.endtime,callback:function(t){e.$set(e.ruledetailForm,"endtime",t)},expression:"ruledetailForm.endtime"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.detailRuleVisible=!1}}},[e._v("确定")])],1)]),e._v(" "),a("el-dialog",{staticClass:"alldata",attrs:{title:"详情",visible:e.alldataVisible,width:"800px"},on:{"update:visible":function(t){e.alldataVisible=t}}},[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.alldatas,"highlight-current-row":"",height:"500px"}},[a("el-table-column",{attrs:{label:"名称",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.name))])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.alldataVisible=!1}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"navtitle"},[t("span",[this._v("个人中心")])])}]};var x=a("VU/8")(k,_,!1,function(e){a("i9CZ")},null,null);t.default=x.exports},i9CZ:function(e,t){}});
//# sourceMappingURL=15.0f02a8f4526a9d83f4cb.js.map