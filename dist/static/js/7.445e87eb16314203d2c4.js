webpackJsonp([7],{"2BF/":function(e,t){},"9ZSo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,s=a("+6Bu"),i=a.n(s),r=a("mvHQ"),o=a.n(r),n=a("woOf"),d=a.n(n),c=a("bOdI"),u=a.n(c),m=a("hct2"),p={name:"target",props:["leaderList","deptList"],data:function(){var e;return e={ruledetailForm:{},detailRuleVisible:!1,ruleIndex:-1,checkAll:!1,checkedItems:[],allitems:[],isIndeterminate:!1,choosenum:0,hasitem:[]},u()(e,"choosenum",0),u()(e,"ruleTitle",""),u()(e,"ruleVisible",!1),u()(e,"ruleBtn",""),u()(e,"isStateShow",!1),u()(e,"taskTitle",""),u()(e,"changeWord",""),u()(e,"changeNum",""),u()(e,"readOn",!1),u()(e,"leadsData",[]),u()(e,"addLeadVisible",!1),u()(e,"addLeadData",{}),u()(e,"warnlist",[{value:4,name:"季度"},{value:3,name:"每月"}]),u()(e,"condition",""),u()(e,"filters",{}),u()(e,"addFormVisible",!1),u()(e,"detailFormVisible",!1),u()(e,"tableData",[]),u()(e,"addForm",{}),u()(e,"currentPage",1),u()(e,"pageSize",20),u()(e,"totals",0),u()(e,"detailForm",{}),u()(e,"newyear",""),u()(e,"formTitle",""),u()(e,"btnWord",""),u()(e,"change",""),u()(e,"tableData",[]),u()(e,"targetCheckList",JSON.parse(this.$store.getters.userdata).targetCheckList),u()(e,"isAddShow",!1),u()(e,"isEditShow",!1),u()(e,"tableHeight","500px"),u()(e,"curyear",""),u()(e,"totalStatus",[{value:0,status:"正常"},{value:3,status:"滞后"},{value:4,status:"严重滞后"},{value:-1,status:"完结"}]),u()(e,"formStatus",[{value:0,status:"正常"},{value:1,status:"预警"},{value:2,status:"逾期"},{value:-1,status:"完结"}]),u()(e,"dateshow1",!0),u()(e,"dateshow1",!1),u()(e,"timeday",[{value:"1",name:"1日"},{value:"2",name:"2日"},{value:"3",name:"3日"},{value:"4",name:"4日"},{value:"5",name:"5日"},{value:"6",name:"6日"},{value:"7",name:"7日"},{value:"8",name:"8日"},{value:"9",name:"9日"},{value:"10",name:"10日"},{value:"11",name:"11日"},{value:"12",name:"12日"},{value:"13",name:"13日"},{value:"14",name:"14日"},{value:"15",name:"15日"},{value:"16",name:"16日"},{value:"17",name:"17日"},{value:"18",name:"18日"},{value:"19",name:"19日"},{value:"20",name:"20日"},{value:"21",name:"21日"},{value:"22",name:"22日"},{value:"23",name:"23日"},{value:"24",name:"24日"},{value:"25",name:"25日"},{value:"26",name:"26日"},{value:"27",name:"27日"},{value:"28",name:"28日"},{value:"29",name:"29日"},{value:"30",name:"30日"},{value:"31",name:"31日"}]),u()(e,"dateshow1",!0),u()(e,"dateshow2",!1),u()(e,"cycleNum",0),u()(e,"date1",""),u()(e,"date2",""),u()(e,"dcondition",""),u()(e,"ruleForm",{}),u()(e,"ruleList",[]),e},mounted:function(){},created:function(){if(this.browerHeight(),null!==this.targetCheckList)for(var e=0;e<this.targetCheckList.length;e++){switch(this.targetCheckList[e]){case"D-add":this.isAddShow=!0;break;case"D-edit":this.isEditShow=!0}}this.getAlldata()},methods:(l={stateFormat:function(e,t){switch(t){case 2:return"未执行";case 1:return"执行中";case 0:return"失效"}},handleCheckAllChange:function(e){for(var t=[],a=0;a<this.allitems.length;a++)t.push(this.allitems[a].id);this.choosenum=e?t.length:0,this.checkedItems=e?t:[],this.isIndeterminate=!1},handleCheckedItemsChange:function(e){this.choosenum=e.length;var t=e.length;this.checkAll=t===this.allitems.length,this.isIndeterminate=t>0&&t<this.allitems.length},selectChange:function(){this.$forceUpdate()},addRuleBtn:function(){this.ruleVisible=!0,this.ruleTitle="新增报送规则",this.ruleBtn="新增",this.changeNum="add",this.hasitem=[],this.checkedItems=[],this.ruleForm={},this.condition="",this.date2=""},editRuleBtn:function(e,t){this.hasitem=[],this.ruleVisible=!0,this.ruleTitle="编辑报送规则",this.ruleBtn="保存",this.changeNum="edit",this.ruleForm=d()({},t),this.condition=t.cycletype,this.date2=String(t.cycletime),this.ruleIndex=e},detailRuleBtn:function(e,t){this.detailRuleVisible=!0,this.ruledetailForm=d()({},t),4==t.cycletype?this.dcondition="季度":3==t.cycletype?this.dcondition="每月":this.dcondition="",null==t.cycletime?this.date2="":this.date2=t.cycletime+"日"},delRuleBtn:function(e,t){this.ruleList.splice(e,1),this.ruleVisible=!1,this.$message({message:"删除成功",type:"success"})},submitRule:function(){"add"==this.changeNum?this.addRuleSubmit():this.editRuleSubmit()},addRuleSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;e.ruleForm.cycletype=e.condition,e.ruleForm.cycletime=e.date2,e.ruleList.push(e.ruleForm),e.ruleVisible=!1})},editRuleSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;var a=d()({},e.ruleForm);a.cycletype=e.condition,a.cycletime=e.date2,e.ruleList.splice(e.ruleIndex,1,a),e.ruleVisible=!1})},addLead:function(){this.changeNum="add",this.changeWord="新增",this.taskTitle="新增牵头单位",this.readOn=!1,this.addLeadVisible=!0},handleDetail2:function(e,t){this.changeNum="read",this.changeWord="确认",this.taskTitle="详情",this.readOn=!0,this.addLeadVisible=!0,this.addLeadData=d()({},t)},handleEdit2:function(e,t){this.changeNum="edit",this.changeWord="保存",this.taskTitle="编辑牵头单位",this.readOn=!1,this.addLeadVisible=!0,this.addLeadData=d()({},t),this.tindex=e},submitLead:function(){"read"==this.changeNum?this.addLeadVisible=!1:"add"==this.changeNum?this.addLeadSubmit():this.editLeadSubmit()},deptChange:function(){for(var e="",t=0;t<this.deptList.length;t++)if(this.deptList[t].id==this.addLeadData.deptid){e=this.deptList[t].name;break}this.addLeadData.deptName=e},addLeadSubmit:function(){var e=this;this.$refs.addLeadData.validate(function(t){if(!t)return!1;var a=d()({},e.addLeadData);e.leadsData.push(a),e.$refs.addLeadData.resetFields(),e.addLeadVisible=!1})},editLeadSubmit:function(){var e=this;this.$refs.addLeadData.validate(function(t){if(!t)return console.log("error"),!1;var a=d()({},e.addLeadData);e.leadsData.splice(e.tindex,1,a),e.$refs.addLeadData.resetFields(),e.addLeadVisible=!1})},handleDelete2:function(e,t){this.leadsData.splice(e,1),this.$refs.addLeadData.resetFields(),this.addLeadVisible=!1,this.$message({message:"删除成功",type:"success"})},cycleChange:function(){this.$forceUpdate(),this.cycleNum=this.condition},totalstateChange:function(e,t){var a=this,l={totalstatus:t.totalstatus,id:t.id};Object(m.n)(l,function(e){a.getAlldata(),a.$message({type:"success",message:"修改状态成功!"})})},formstateChange:function(e,t){var a=this,l={formstatus:t.formstatus,id:t.id};Object(m.m)(l,function(e){a.getAlldata(),a.$message({type:"success",message:"修改状态成功!"})})},totalstatusFormat:function(e,t){switch(t){case 0:return"正常";case 3:return"滞后";case 4:return"严重滞后";case-1:return"完结"}},formstatusFormat:function(e,t){switch(t){case 0:return"正常";case 1:return"预警";case 2:return"逾期";case-1:return"完结"}},numberFormatter:function(e,t,a,l){return l+1+(this.currentPage-1)*this.pageSize},typeFormat:function(e,t){switch(t){case 1:return"增幅";case 0:return"绝对量"}},browerHeight:function(){var e=document.body.clientHeight-380;this.tableHeight=e+"px"},getAlldata:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.pageSize};Object(m.y)(t,function(t){e.tableData=t.data.obj.datas,e.totals=t.data.obj.total})},timestampToTime:function(e,t){var a=new Date(e.startyear),l=a.getFullYear();a.getMonth(),a.getMonth(),a.getDate();return l},timestampToTime2:function(e,t){var a=new Date(e.endyear),l=a.getFullYear()+"-",s=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1;a.getDate();return l+s},getDatas:function(){var e=this,t=this.filters;t.pageNum=this.currentPage,t.pageSize=this.pageSize,Object(m.y)(t,function(t){e.tableData=t.data.obj.datas,e.totals=t.data.obj.total})}},u()(l,"selectChange",function(){this.$forceUpdate()}),u()(l,"resetForm",function(e){this.$refs[e].resetFields(),this.getAlldata()}),u()(l,"handleSizeChange",function(e){this.pageSize=e,this.getAlldata()}),u()(l,"handleCurrentChange",function(e){this.currentPage=e,this.getAlldata()}),u()(l,"getcurYear",function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,l=e.getDate();return a>=1&&a<=9&&(a="0"+a),l>=0&&l<=9&&(l="0"+l),this.curyear=t+"-"+a+"-"+l,this.curyear}),u()(l,"handleAdd",function(){this.date2="",this.isStateShow=!1,this.getcurYear(),this.addFormVisible=!0,this.formTitle="新增经济指标",this.btnWord="新增",this.change="add",this.leadsData=[],this.ruleForm={},this.ruleList=[],this.addForm={type:"0",year:this.curyear}}),u()(l,"handleLook",function(e,t){var a=this;this.leadsData=[],this.date2="";var l={id:t.id};this.ruleForm={},this.ruleList=[],this.detailFormVisible=!0,Object(m.A)(l,function(e){if(a.detailForm=e.data.obj,a.detailForm.leadername=t.leadleadername,0==a.detailForm.type?a.detailForm.type="绝对量":a.detailForm.type="增幅",null==e.data.obj.leaderList&&(e.data.obj.leaderList=[]),a.leadsData=e.data.obj.leaderList,null==e.data.obj.ruleList||0==e.data.obj.ruleList.length)a.ruleList=[];else{a.ruleList=e.data.obj.ruleList;for(var l=0;l<a.ruleList.length;l++){var s=a.ruleList[l].starttime,i=new Date(s),r=i.getFullYear()+"-",o=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"-",n=i.getDate()<10?"0"+i.getDate():i.getDate();a.ruleList[l].starttime=r+o+n;var d=a.ruleList[l].endtime,c=new Date(d),u=c.getFullYear()+"-",m=(c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1)+"-",p=c.getDate()<10?"0"+c.getDate():c.getDate();a.ruleList[l].endtime=u+m+p}}})}),u()(l,"handleEdit",function(e,t){var a=this;this.addForm={},this.date1="",this.date2="",this.isStateShow=!0,this.leadsData=[],this.ruleForm={},this.ruleList=[];var l={id:t.id,ishand:1,formstatus:t.formstatus};Object(m.A)(l,function(e){var l=e.data.obj;if(null==l.year?l.year="":l.year=l.year+"-01-01",a.addForm=l,a.addForm.id=t.id,1==l.ischeck?a.addForm.ischeck=!0:a.addForm.ischeck=!1,a.addForm.type=String(t.type),null==l.ruleList||0==l.ruleList.length)a.ruleList=[];else{a.ruleList=l.ruleList;for(var s=0;s<a.ruleList.length;s++){var i=a.ruleList[s].starttime,r=new Date(i),o=r.getFullYear()+"-",n=(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-",d=r.getDate()<10?"0"+r.getDate():r.getDate();a.ruleList[s].starttime=o+n+d;var c=a.ruleList[s].endtime,u=new Date(c),m=u.getFullYear()+"-",p=(u.getMonth()+1<10?"0"+(u.getMonth()+1):u.getMonth()+1)+"-",h=u.getDate()<10?"0"+u.getDate():u.getDate();a.ruleList[s].endtime=m+p+h}}null==e.data.obj.leaderList&&(e.data.obj.leaderList=[]),a.leadsData=e.data.obj.leaderList,a.formTitle="编辑经济指标",a.btnWord="保存",a.addFormVisible=!0,a.change="edit"})}),u()(l,"saveSubmit",function(){"add"==this.change?this.addSubmit():this.editSubmit()}),u()(l,"addSubmit",function(){var e=this;this.$refs.addForm.validate(function(t){if(t){1==e.addForm.ischeck?e.addForm.ischeck=1:e.addForm.ischeck=0;var a=e.addForm.year.slice(0,4);e.addForm.year=a;var l=d()({},e.addForm);l.ishand=0,l.formstatus=0,l.totalstatus=0,l.leaderList=e.leadsData,l.ruleList=e.ruleList,l=o()(l),Object(m.b)(l,function(t){e.$message({message:"新增成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getAlldata()},function(){e.$message({message:"新增失败",type:"error"}),e.addFormVisible=!1})}})}),u()(l,"editSubmit",function(){var e=this;this.$refs.addForm.validate(function(t){if(t){1==e.addForm.ischeck?e.addForm.ischeck=1:e.addForm.ischeck=0;var a=e.addForm.year.slice(0,4);e.addForm.year=a;var l=d()({},e.addForm),s=l;s.createtime,s.updatetime;(l=i()(s,["createtime","updatetime"])).leaderList=e.leadsData,l.ruleList=e.ruleList,l=o()(l),Object(m.q)(l,function(t){e.$message({message:"编辑成功",type:"success"}),e.addFormVisible=!1,e.getAlldata()},function(){e.$message({message:"编辑失败",type:"error"})})}})}),l)},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"manage-index"},[a("el-row",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{inline:!0,model:e.filters,size:"small"}},[a("el-form-item",{attrs:{label:"指标名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入","auto-complete":"off"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"ybox",attrs:{label:"年度：",prop:"year"}},[a("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:"全部"},model:{value:e.filters.year,callback:function(t){e.$set(e.filters,"year",t)},expression:"filters.year"}})],1),e._v(" "),a("el-form-item",{staticClass:"ld",attrs:{label:"牵头区领导：",prop:"leadleaderid"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"全部"},model:{value:e.filters.leadleaderid,callback:function(t){e.$set(e.filters,"leadleaderid",t)},expression:"filters.leadleaderid"}},e._l(e.leaderList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id},on:{change:e.selectChange}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getDatas("filters")}}},[e._v("搜 索")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("filters")}}},[e._v("重 置")])],1),e._v(" "),a("div",{staticClass:"toolbtns"},[e.isAddShow?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新 增")]):e._e()],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",height:e.tableHeight,data:e.tableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",formatter:e.numberFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"year",width:"100",label:"年度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"指标名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"指标类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{innerHTML:e._s(e.typeFormat(t,t.row.type))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"计量单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leadleadername",label:"牵头区领导"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dytarget",label:"区定全年排位目标"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"formstatus",label:"材料报送"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):2==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#f00"}}):-1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.formstatusFormat(t,t.row.formstatus))}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"totalstatus",label:"总体进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isEditShow?a("div",{staticClass:"flexbox"},[3==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#364e98"}}):4==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#7c1d77"}}):-1==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("el-select",{staticClass:"stateSelect",on:{change:function(a){e.totalstateChange(t,t.row)}},model:{value:t.row.totalstatus,callback:function(a){e.$set(t.row,"totalstatus",a)},expression:"scope.row.totalstatus"}},e._l(e.totalStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.status,value:e.value}})}))],1):a("div",[3==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#364e98"}}):4==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#7c1d77"}}):-1==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.totalstatusFormat(t,t.row.totalstatus))}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.handleLook(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),e.isEditShow?a("el-button",{staticClass:"btn",on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,40,50],"page-size":e.pageSize,layout:"total, prev, pager, next, sizes, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"managebox",attrs:{title:e.formTitle,visible:e.addFormVisible,width:"1200px"},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-row",{staticClass:"addrow"},[a("el-col",{attrs:{span:24}},[a("fieldset",[a("legend",[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"boxcontent",staticStyle:{"padding-left":"0"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"指标名称：",prop:"name",rules:[{required:!0,message:"指标名称不能为空"}]}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"年度：",prop:"year",rules:[{required:!0,message:"请选择"}]}},[a("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:"请选择"},on:{change:e.selectChange},model:{value:e.addForm.year,callback:function(t){e.$set(e.addForm,"year",t)},expression:"addForm.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计量单位：",prop:"unit"}},[a("el-input",{model:{value:e.addForm.unit,callback:function(t){e.$set(e.addForm,"unit",t)},expression:"addForm.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标类型：",prop:"type",rules:[{required:!0,message:"指标名称不能为空"}]}},[a("el-radio",{attrs:{label:"0"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[e._v("绝对量")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[e._v("增幅")])],1)],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"牵头区领导：",prop:"leadleaderid"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:e.selectChange},model:{value:e.addForm.leadleaderid,callback:function(t){e.$set(e.addForm,"leadleaderid",t)},expression:"addForm.leadleaderid"}},e._l(e.leaderList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"市下达全年目标：",prop:"cytarget"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.addForm.cytarget,callback:function(t){e.$set(e.addForm,"cytarget",t)},expression:"addForm.cytarget"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区定全年目标：",prop:"dytarget"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.addForm.dytarget,callback:function(t){e.$set(e.addForm,"dytarget",t)},expression:"addForm.dytarget"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"remark",attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1)],1)])])],1),e._v(" "),a("el-row",{staticClass:"index-leader",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("牵头单位")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-button",{staticClass:"addbtn",attrs:{size:"small",type:"primary"},on:{click:e.addLead}},[e._v("新 增")]),e._v(" "),a("el-table",{staticClass:"tableinfo",attrs:{height:"200px",border:"",data:e.leadsData,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"deptName",label:"牵头单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leadername",label:"责任领导"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentname",label:"经办人"}}),e._v(" "),e.isStateShow?a("el-table-column",{attrs:{prop:"formstatus",label:"报送状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tag",{attrs:{size:"small"}},[1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):2==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#f00"}}):-1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.formstatusFormat(t,t.row.formstatus))}})])],1)]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.handleEdit2(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"btn",on:{click:function(a){e.handleDelete2(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("报送规则")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-button",{staticClass:"addbtn",attrs:{size:"small",type:"primary"},on:{click:e.addRuleBtn}},[e._v("新 增")]),e._v(" "),a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.ruleList,"highlight-current-row":"",height:"200px"}},[a("el-table-column",{attrs:{prop:"stagename",label:"阶段"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cycletype",label:"报送周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.cycletype?a("p",[e._v("每月")]):4==t.row.cycletype?a("p",[e._v("季度")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"warnday",label:"提前预警(天)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.editRuleBtn(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"btn",on:{click:function(a){e.delRuleBtn(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.saveSubmit("addForm")}}},[e._v(e._s(e.btnWord))])],1)],1),e._v(" "),a("el-dialog",{staticClass:"rule-dialog",attrs:{title:e.ruleTitle,visible:e.ruleVisible,width:"420px"},on:{"update:visible":function(t){e.ruleVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"阶段：",prop:"stagename"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.stagename,callback:function(t){e.$set(e.ruleForm,"stagename",t)},expression:"ruleForm.stagename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预警条件：",prop:"condition"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){e.cycleChange()}},model:{value:e.condition,callback:function(t){e.condition=t},expression:"condition"}},e._l(e.warnlist,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"预警时间：",prop:"date2"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.selectChange},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},e._l(e.timeday,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticClass:"day",attrs:{label:"提前：",prop:"warnday"}},[a("el-input",{model:{value:e.ruleForm.warnday,callback:function(t){e.$set(e.ruleForm,"warnday",t)},expression:"ruleForm.warnday"}},[a("template",{slot:"append"},[e._v("天预警")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间：",prop:"starttime",rules:[{required:!0,message:"时间不能为空",trigger:"change"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruleForm.starttime,callback:function(t){e.$set(e.ruleForm,"starttime",t)},expression:"ruleForm.starttime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间：",prop:"endtime",rules:[{required:!0,message:"时间不能为空",trigger:"change"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruleForm.endtime,callback:function(t){e.$set(e.ruleForm,"endtime",t)},expression:"ruleForm.endtime"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitRule}},[e._v(e._s(e.ruleBtn))])],1)],1),e._v(" "),a("el-dialog",{staticClass:"rule-dialog",attrs:{title:"规则详情",visible:e.detailRuleVisible,width:"420px"},on:{"update:visible":function(t){e.detailRuleVisible=t}}},[a("div",[a("el-form",{ref:"ruledetailForm",attrs:{model:e.ruledetailForm,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"预警条件：",prop:"stagename"}},[a("el-input",{attrs:{readonly:""},model:{value:e.ruledetailForm.stagename,callback:function(t){e.$set(e.ruledetailForm,"stagename",t)},expression:"ruledetailForm.stagename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预警条件：",prop:"dcondition"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dcondition,callback:function(t){e.dcondition=t},expression:"dcondition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预警日期：",prop:"date2"}},[a("el-input",{attrs:{readonly:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}})],1),e._v(" "),a("el-form-item",{staticClass:"day",attrs:{label:"提前：",prop:"warnday"}},[a("el-input",{attrs:{readonly:""},model:{value:e.ruledetailForm.warnday,callback:function(t){e.$set(e.ruledetailForm,"warnday",t)},expression:"ruledetailForm.warnday"}},[a("template",{slot:"append"},[e._v("天预警")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间：",prop:"starttime"}},[a("el-date-picker",{attrs:{type:"date",readonly:"",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruledetailForm.starttime,callback:function(t){e.$set(e.ruledetailForm,"starttime",t)},expression:"ruledetailForm.starttime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间：",prop:"endtime"}},[a("el-date-picker",{attrs:{type:"date",readonly:"",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruledetailForm.endtime,callback:function(t){e.$set(e.ruledetailForm,"endtime",t)},expression:"ruledetailForm.endtime"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailRuleVisible=!1}}},[e._v("确定")])],1)]),e._v(" "),a("el-dialog",{staticClass:"managebox",attrs:{title:"详情",visible:e.detailFormVisible,width:"1200px"},on:{"update:visible":function(t){e.detailFormVisible=t}}},[a("el-row",{staticClass:"addrow"},[a("el-col",{attrs:{span:24}},[a("fieldset",[a("legend",[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"boxcontent",staticStyle:{"padding-left":"0"}},[a("el-form",{ref:"detailForm",attrs:{model:e.detailForm,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"指标名称：",prop:"name"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.name,callback:function(t){e.$set(e.detailForm,"name",t)},expression:"detailForm.name"}})],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"年度：",prop:"year"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.year,callback:function(t){e.$set(e.detailForm,"year",t)},expression:"detailForm.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计量单位：",prop:"unit"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.unit,callback:function(t){e.$set(e.detailForm,"unit",t)},expression:"detailForm.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标类型：",prop:"type"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.type,callback:function(t){e.$set(e.detailForm,"type",t)},expression:"detailForm.type"}})],1)],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"牵头区领导：",prop:"leadername"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.leadername,callback:function(t){e.$set(e.detailForm,"leadername",t)},expression:"detailForm.leadername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"市下达全年目标：",prop:"cytarget"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.cytarget,callback:function(t){e.$set(e.detailForm,"cytarget",t)},expression:"detailForm.cytarget"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区定全年目标：",prop:"dytarget"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.dytarget,callback:function(t){e.$set(e.detailForm,"dytarget",t)},expression:"detailForm.dytarget"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"remark",attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},readonly:""},model:{value:e.detailForm.remark,callback:function(t){e.$set(e.detailForm,"remark",t)},expression:"detailForm.remark"}})],1)],1)],1)])])],1),e._v(" "),a("el-row",{staticClass:"index-leader",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("牵头单位")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-table",{staticClass:"tableinfo",attrs:{border:"",data:e.leadsData,height:"200px","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"deptName",label:"牵头单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leadername",label:"责任领导"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentname",label:"经办人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"formstatus",label:"报送状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tag",{attrs:{size:"small"}},[1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):2==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#f00"}}):-1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.formstatusFormat(t,t.row.formstatus))}})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.handleDetail2(t.$index,t.row)}}},[e._v("详情")])]}}])})],1)],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("报送规则")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.ruleList,"highlight-current-row":"",height:"200px"}},[a("el-table-column",{attrs:{prop:"stagename",label:"阶段"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cycletype",label:"报送周期",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.cycletype?a("p",[e._v("每月")]):4==t.row.cycletype?a("p",[e._v("季度")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"warnday",label:"提前预警(天)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[1==t.row.status?a("el-tag",{attrs:{size:"small"}},[a("i",{staticClass:"fa mark",staticStyle:{background:"#364e98"}}),e._v(" "),a("span",[e._v("执行中")])]):2==t.row.status?a("el-tag",{attrs:{size:"small"}},[a("i",{staticClass:"fa mark"}),e._v(" "),a("span",[e._v("未执行")])]):0==t.row.status?a("el-tag",{attrs:{size:"small"}},[a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}),e._v(" "),a("span",[e._v("失效")])]):a("p",[e._v("/")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.detailRuleBtn(t.$index,t.row)}}},[e._v("详情")])]}}])})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.detailFormVisible=!1}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"task-dialog task-dialog2",attrs:{title:e.taskTitle,visible:e.addLeadVisible,width:"800px"},on:{"update:visible":function(t){e.addLeadVisible=t}}},[a("el-form",{ref:"addLeadData",attrs:{inline:!0,model:e.addLeadData,"label-width":"100px","append-to-body":!0}},[a("div",{staticClass:"leabox"},[a("el-form-item",{attrs:{label:"牵头单位：",prop:"deptid",rules:[{required:!0,message:"请选择牵头单位",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.deptChange},model:{value:e.addLeadData.deptid,callback:function(t){e.$set(e.addLeadData,"deptid",t)},expression:"addLeadData.deptid"}},e._l(e.deptList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"责任领导：",prop:"leadername"}},[a("el-input",{model:{value:e.addLeadData.leadername,callback:function(t){e.$set(e.addLeadData,"leadername",t)},expression:"addLeadData.leadername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式：",prop:"leaderphone"}},[a("el-input",{model:{value:e.addLeadData.leaderphone,callback:function(t){e.$set(e.addLeadData,"leaderphone",t)},expression:"addLeadData.leaderphone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经办人：",prop:"agentname"}},[a("el-input",{model:{value:e.addLeadData.agentname,callback:function(t){e.$set(e.addLeadData,"agentname",t)},expression:"addLeadData.agentname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式：",prop:"agentphone"}},[a("el-input",{model:{value:e.addLeadData.agentphone,callback:function(t){e.$set(e.addLeadData,"agentphone",t)},expression:"addLeadData.agentphone"}})],1),e._v(" "),a("div",{staticClass:"leabox leabox2"},[a("el-form-item",{attrs:{label:"工作职责：",prop:"duty"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:10}},model:{value:e.addLeadData.duty,callback:function(t){e.$set(e.addLeadData,"duty",t)},expression:"addLeadData.duty"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitLead}},[e._v(e._s(e.changeWord))])],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")(p,h,!1,function(e){a("QHkh")},null,null).exports,b={name:"target",props:["leaderList","deptList"],data:function(){var e;return e={filters:{},addFormVisible:!1,detailFormVisible:!1,tableData:[],addForm:{},detailForm:{},formTitle:"",btnWord:"",change:"",types:[]},u()(e,"tableData",[]),u()(e,"typeShow",!1),u()(e,"newtype",""),u()(e,"pageSize",20),u()(e,"currentPage",1),u()(e,"totals",0),u()(e,"targetCheckList",JSON.parse(this.$store.getters.userdata).targetCheckList),u()(e,"isAddShow",!1),u()(e,"isEditShow",!1),u()(e,"tableHeight","500px"),u()(e,"curyear",""),e},mounted:function(){},created:function(){if(null!==this.targetCheckList)for(var e=0;e<this.targetCheckList.length;e++){switch(this.targetCheckList[e]){case"D-add":this.isAddShow=!0;break;case"D-edit":this.isEditShow=!0}}this.getAlldata(),this.getTypes(),this.browerHeight()},methods:{browerHeight:function(){var e=document.body.clientHeight-330;this.tableHeight=e+"px"},getAlldata:function(){var e=this,t={pageSize:this.pageSize,pageNum:this.currentPage};Object(m.x)(t,function(t){console.log(t.data.obj),e.totals=t.data.obj.total,e.tableData=t.data.obj.datas})},handleSizeChange:function(e){this.pageSize=e,this.getAlldata()},handleCurrentChange:function(e){this.currentPage=e,this.getAlldata()},getTypes:function(){var e=this;Object(m.D)("",function(t){e.types=t.data.obj})},addType:function(){var e=this,t={name:this.newtype};Object(m.f)(t,function(t){e.$message({message:"新增成功",type:"success"}),e.getTypes(),e.newtype=""})},handleAdd:function(){this.addFormVisible=!0,this.addForm={},this.formTitle="新增",this.btnWord="新增",this.change="add",this.addForm={}},handleLook:function(e,t){this.detailFormVisible=!0,this.detailForm=d()({},t)},handleEdit:function(e,t){this.addForm=d()({},t),this.formTitle="编辑",this.btnWord="保存",this.change="edit",this.addFormVisible=!0},saveSubmit:function(){"add"==this.change?this.addSubmit():this.editSubmit()},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=d()({},e.addForm);Object(m.a)(a,function(t){e.$message({message:"新增成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getAlldata()},function(){e.$message({message:"新增失败",type:"error"})})}})},editSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){if(t){var a=d()({},e.addForm);Object(m.o)(a,function(t){e.$message({message:"修改成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getAlldata()},function(){e.$message({message:"修改失败",type:"error"})})}})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"toolbtns0"},[e.isAddShow?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新 增")]):e._e()],1),e._v(" "),a("el-row",[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,"highlight-current-row":"",height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"name",label:"区（市）县"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.handleLook(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),e.isEditShow?a("el-button",{staticClass:"btn",on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,40,50],"page-size":e.pageSize,layout:"total, prev, pager, next, sizes, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"managebox",attrs:{title:e.formTitle,visible:e.addFormVisible,width:"500px"},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{inline:!0,model:e.addForm,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"区（市）县：",prop:"name",rules:[{required:!0,message:"名称不能为空"}]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("div",{staticClass:"yearbox"},[a("el-form-item",{staticClass:"typebox",attrs:{label:"类别：",prop:"typeid",size:"small",rules:[{required:!0,message:"请选择类别"}]}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.addForm.typeid,callback:function(t){e.$set(e.addForm,"typeid",t)},expression:"addForm.typeid"}},e._l(e.types,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"jiabtn"},[a("i",{staticClass:"icon el-icon-circle-plus",on:{click:function(t){e.typeShow=!0}}}),e._v(" "),e.typeShow?a("div",{staticClass:"awrap"},[a("p",[e._v("新增类别")]),e._v(" "),a("el-input",{attrs:{type:"textarea",autosize:{minRows:1},placeholder:"请输入",size:"small"},model:{value:e.newtype,callback:function(t){e.newtype=t},expression:"newtype"}}),e._v(" "),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.typeShow=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addType}},[e._v("确定")])],1)],1):e._e()])],1),e._v(" "),a("el-form-item",{staticClass:"remark2",attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:3}},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.saveSubmit("addForm")}}},[e._v(e._s(e.btnWord))])],1)],1),e._v(" "),a("el-dialog",{staticClass:"managebox",attrs:{title:"详情",visible:e.detailFormVisible,width:"500px"},on:{"update:visible":function(t){e.detailFormVisible=t}}},[a("el-form",{ref:"detailForm",attrs:{inline:!0,model:e.detailForm,"label-width":"140px",size:"small"}},[a("div",{staticClass:"yearbox"},[a("el-form-item",{attrs:{label:"区（市）县：",prop:"name"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.name,callback:function(t){e.$set(e.detailForm,"name",t)},expression:"detailForm.name"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"类别：",prop:"typeName"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.typeName,callback:function(t){e.$set(e.detailForm,"typeName",t)},expression:"detailForm.typeName"}})],1),e._v(" "),a("el-form-item",{staticClass:"remark2",attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},readonly:""},model:{value:e.detailForm.remark,callback:function(t){e.$set(e.detailForm,"remark",t)},expression:"detailForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.detailFormVisible=!1}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var g,y=a("VU/8")(b,v,!1,function(e){a("WvZi")},null,null).exports,F={name:"target",props:["leaderList","deptList"],data:function(){var e;return e={ruledetailForm:{},detailRuleVisible:!1,ruleIndex:-1,checkAll:!1,checkedItems:[],allitems:[],isIndeterminate:!1,choosenum:0,hasitem:[]},u()(e,"choosenum",0),u()(e,"ruleTitle",""),u()(e,"ruleVisible",!1),u()(e,"ruleBtn",""),u()(e,"isStateShow",!1),u()(e,"taskTitle",""),u()(e,"changeWord",""),u()(e,"changeNum",""),u()(e,"readOn",!1),u()(e,"leadsData",[]),u()(e,"addLeadVisible",!1),u()(e,"addLeadData",{}),u()(e,"warnlist",[{value:4,name:"季度"},{value:3,name:"每月"}]),u()(e,"condition",""),u()(e,"filters",{}),u()(e,"addFormVisible",!1),u()(e,"detailFormVisible",!1),u()(e,"tableData",[]),u()(e,"addForm",{}),u()(e,"currentPage",1),u()(e,"pageSize",20),u()(e,"totals",0),u()(e,"detailForm",{}),u()(e,"newyear",""),u()(e,"formTitle",""),u()(e,"btnWord",""),u()(e,"change",""),u()(e,"targetCheckList",JSON.parse(this.$store.getters.userdata).targetCheckList),u()(e,"isAddShow",!1),u()(e,"isEditShow",!1),u()(e,"tableHeight","500px"),u()(e,"curyear",""),u()(e,"totalStatus",[{value:0,status:"正常"},{value:3,status:"滞后"},{value:4,status:"严重滞后"},{value:-1,status:"完结"}]),u()(e,"formStatus",[{value:0,status:"正常"},{value:1,status:"预警"},{value:2,status:"逾期"},{value:-1,status:"完结"}]),u()(e,"dateshow1",!0),u()(e,"dateshow1",!1),u()(e,"timeday",[{value:"1",name:"1日"},{value:"2",name:"2日"},{value:"3",name:"3日"},{value:"4",name:"4日"},{value:"5",name:"5日"},{value:"6",name:"6日"},{value:"7",name:"7日"},{value:"8",name:"8日"},{value:"9",name:"9日"},{value:"10",name:"10日"},{value:"11",name:"11日"},{value:"12",name:"12日"},{value:"13",name:"13日"},{value:"14",name:"14日"},{value:"15",name:"15日"},{value:"16",name:"16日"},{value:"17",name:"17日"},{value:"18",name:"18日"},{value:"19",name:"19日"},{value:"20",name:"20日"},{value:"21",name:"21日"},{value:"22",name:"22日"},{value:"23",name:"23日"},{value:"24",name:"24日"},{value:"25",name:"25日"},{value:"26",name:"26日"},{value:"27",name:"27日"},{value:"28",name:"28日"},{value:"29",name:"29日"},{value:"30",name:"30日"},{value:"31",name:"31日"}]),u()(e,"dateshow1",!0),u()(e,"dateshow2",!1),u()(e,"cycleNum",0),u()(e,"date1",""),u()(e,"date2",""),u()(e,"dcondition",""),u()(e,"ruleForm",{}),u()(e,"ruleList",[]),e},mounted:function(){},created:function(){if(this.browerHeight(),null!==this.targetCheckList)for(var e=0;e<this.targetCheckList.length;e++){switch(this.targetCheckList[e]){case"D-add":this.isAddShow=!0;break;case"D-edit":this.isEditShow=!0}}this.getAlldata()},methods:(g={stateFormat:function(e,t){switch(t){case 2:return"未执行";case 1:return"执行中";case 0:return"失效"}},handleCheckAllChange:function(e){for(var t=[],a=0;a<this.allitems.length;a++)t.push(this.allitems[a].id);this.choosenum=e?t.length:0,this.checkedItems=e?t:[],this.isIndeterminate=!1},handleCheckedItemsChange:function(e){this.choosenum=e.length;var t=e.length;this.checkAll=t===this.allitems.length,this.isIndeterminate=t>0&&t<this.allitems.length},selectChange:function(){this.$forceUpdate()},addRuleBtn:function(){this.ruleVisible=!0,this.ruleTitle="新增报送规则",this.ruleBtn="新增",this.changeNum="add",this.hasitem=[],this.checkedItems=[],this.ruleForm={},this.condition="",this.date2=""},editRuleBtn:function(e,t){this.hasitem=[],this.ruleVisible=!0,this.ruleTitle="编辑报送规则",this.ruleBtn="保存",this.changeNum="edit",this.ruleForm=d()({},t),this.condition=t.cycletype,this.date2=String(t.cycletime),this.ruleIndex=e},detailRuleBtn:function(e,t){this.detailRuleVisible=!0,this.ruledetailForm=d()({},t),4==t.cycletype?this.dcondition="季度":3==t.cycletype?this.dcondition="每月":this.dcondition="",null==t.cycletime?this.date2="":this.date2=t.cycletime+"日"},delRuleBtn:function(e,t){this.ruleList.splice(e,1),this.ruleVisible=!1,this.$message({message:"删除成功",type:"success"})},submitRule:function(){"add"==this.changeNum?this.addRuleSubmit():this.editRuleSubmit()},addRuleSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;e.ruleForm.cycletype=e.condition,e.ruleForm.cycletime=e.date2,e.ruleList.push(e.ruleForm),e.ruleVisible=!1})},editRuleSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;var a=d()({},e.ruleForm);a.cycletype=e.condition,a.cycletime=e.date2,e.ruleList.splice(e.ruleIndex,1,a),e.ruleVisible=!1})},addLead:function(){this.changeNum="add",this.changeWord="新增",this.taskTitle="新增牵头单位",this.readOn=!1,this.addLeadVisible=!0},handleDetail2:function(e,t){this.changeNum="read",this.changeWord="确认",this.taskTitle="详情",this.readOn=!0,this.addLeadVisible=!0,this.addLeadData=d()({},t)},handleEdit2:function(e,t){this.changeNum="edit",this.changeWord="保存",this.taskTitle="编辑牵头单位",this.readOn=!1,this.addLeadVisible=!0,this.addLeadData=d()({},t),this.tindex=e},submitLead:function(){"read"==this.changeNum?this.addLeadVisible=!1:"add"==this.changeNum?this.addLeadSubmit():this.editLeadSubmit()},deptChange:function(){for(var e="",t=0;t<this.deptList.length;t++)if(this.deptList[t].id==this.addLeadData.deptid){e=this.deptList[t].name;break}this.addLeadData.deptName=e},addLeadSubmit:function(){var e=this;this.$refs.addLeadData.validate(function(t){if(!t)return!1;var a=d()({},e.addLeadData);e.leadsData.push(a),e.$refs.addLeadData.resetFields(),e.addLeadVisible=!1,console.log(e.leadsData)})},editLeadSubmit:function(){var e=this;this.$refs.addLeadData.validate(function(t){if(!t)return console.log("error"),!1;var a=d()({},e.addLeadData);e.leadsData.splice(e.tindex,1,a),e.$refs.addLeadData.resetFields(),e.addLeadVisible=!1})},handleDelete2:function(e,t){this.leadsData.splice(e,1),this.$refs.addLeadData.resetFields(),this.addLeadVisible=!1,this.$message({message:"删除成功",type:"success"})},cycleChange:function(){switch(this.$forceUpdate(),this.cycleNum=this.condition,this.cycleNum){case 0:this.dateshow1=!0,this.dateshow2=!1;break;case 1:this.dateshow2=!0,this.dateshow1=!1}},totalstateChange:function(e,t){var a=this,l={totalstatus:t.totalstatus,id:t.id};Object(m.l)(l,function(e){a.getAlldata(),a.$message({type:"success",message:"修改状态成功!"})})},formstateChange:function(e,t){var a=this,l={formstatus:t.formstatus,id:t.id};Object(m.k)(l,function(e){a.getAlldata(),a.$message({type:"success",message:"修改状态成功!"})})},totalstatusFormat:function(e,t){switch(t){case 0:return"正常";case 3:return"滞后";case 4:return"严重滞后";case-1:return"完结"}},formstatusFormat:function(e,t){switch(t){case 0:return"正常";case 1:return"预警";case 2:return"逾期";case-1:return"完结"}},numberFormatter:function(e,t,a,l){return l+1+(this.currentPage-1)*this.pageSize},typeFormat:function(e,t){switch(t){case 1:return"增幅";case 0:return"绝对量"}},browerHeight:function(){var e=document.body.clientHeight-380;this.tableHeight=e+"px"},getAlldata:function(){var e=this,t={pageNum:this.currentPage,pageSize:this.pageSize};Object(m.w)(t,function(t){e.tableData=t.data.obj.datas,e.totals=t.data.obj.total})},timestampToTime:function(e,t){var a=new Date(e.startyear),l=a.getFullYear();a.getMonth(),a.getMonth(),a.getDate();return l},timestampToTime2:function(e,t){var a=new Date(e.endyear),l=a.getFullYear()+"-",s=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1;a.getDate();return l+s},getDatas:function(){var e=this,t=this.filters;t.pageNum=this.currentPage,t.pageSize=this.pageSize,Object(m.w)(t,function(t){e.tableData=t.data.obj.datas,e.totals=t.data.obj.total})}},u()(g,"selectChange",function(){this.$forceUpdate()}),u()(g,"resetForm",function(e){this.$refs[e].resetFields(),this.getAlldata()}),u()(g,"handleSizeChange",function(e){this.pageSize=e,this.getAlldata()}),u()(g,"handleCurrentChange",function(e){this.currentPage=e,this.getAlldata()}),u()(g,"getcurYear",function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,l=e.getDate();return a>=1&&a<=9&&(a="0"+a),l>=0&&l<=9&&(l="0"+l),this.curyear=t+"-"+a+"-"+l,this.curyear}),u()(g,"handleAdd",function(){this.date2="",this.isStateShow=!1,this.getcurYear(),this.addFormVisible=!0,this.formTitle="新增经济指标",this.btnWord="新增",this.change="add",this.condition="",this.leadsData=[],this.ruleForm={},this.ruleList=[],this.addForm={type:"0",year:this.curyear,condition:3}}),u()(g,"handleLook",function(e,t){var a=this;this.date2="";var l={id:t.id};this.detailForm={},this.leadsData=[],this.ruleForm={},this.ruleList=[],Object(m.B)(l,function(e){if(a.detailForm=e.data.obj,a.detailForm.leadername=t.leadleadername,0==a.detailForm.type?a.detailForm.type="绝对量":a.detailForm.type="增幅",null==e.data.obj.leaderList&&(e.data.obj.leaderList=[]),a.leadsData=e.data.obj.leaderList,null==e.data.obj.ruleList||0==e.data.obj.ruleList.length)a.ruleList=[];else{a.ruleList=e.data.obj.ruleList;for(var l=0;l<a.ruleList.length;l++){var s=a.ruleList[l].starttime,i=new Date(s),r=i.getFullYear()+"-",o=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"-",n=i.getDate()<10?"0"+i.getDate():i.getDate();a.ruleList[l].starttime=r+o+n;var d=a.ruleList[l].endtime,c=new Date(d),u=c.getFullYear()+"-",m=(c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1)+"-",p=c.getDate()<10?"0"+c.getDate():c.getDate();a.ruleList[l].endtime=u+m+p}}a.detailFormVisible=!0})}),u()(g,"handleEdit",function(e,t){var a=this;this.addForm={},this.date1="",this.date2="",this.leadsData=[];var l={id:t.id,ishand:1,formstatus:t.formstatus};Object(m.B)(l,function(e){var l=e.data.obj;if(null==l.year?l.year="":l.year=l.year+"-01-01",a.addForm=l,a.addForm.id=t.id,1==l.ischeck?a.addForm.ischeck=!0:a.addForm.ischeck=!1,a.addForm.type=String(t.type),null==l.ruleList||0==l.ruleList.length)a.ruleList=[];else{a.ruleList=l.ruleList;for(var s=0;s<a.ruleList.length;s++){var i=a.ruleList[s].starttime,r=new Date(i),o=r.getFullYear()+"-",n=(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"-",d=r.getDate()<10?"0"+r.getDate():r.getDate();a.ruleList[s].starttime=o+n+d;var c=a.ruleList[s].endtime,u=new Date(c),m=u.getFullYear()+"-",p=(u.getMonth()+1<10?"0"+(u.getMonth()+1):u.getMonth()+1)+"-",h=u.getDate()<10?"0"+u.getDate():u.getDate();a.ruleList[s].endtime=m+p+h}}null==e.data.obj.leaderList&&(e.data.obj.leaderList=[]),a.leadsData=e.data.obj.leaderList,a.formTitle="编辑经济指标",a.btnWord="保存",a.addFormVisible=!0,a.change="edit"})}),u()(g,"saveSubmit",function(){"add"==this.change?this.addSubmit():this.editSubmit()}),u()(g,"addSubmit",function(){var e=this;this.$refs.addForm.validate(function(t){if(t){1==e.addForm.ischeck?e.addForm.ischeck=1:e.addForm.ischeck=0;var a=e.addForm.year.slice(0,4);e.addForm.year=a;var l=d()({},e.addForm);l.ishand=0,l.formstatus=0,l.totalstatus=0,l.leaderList=e.leadsData,l.ruleList=e.ruleList,l=o()(l),Object(m.g)(l,function(t){e.$message({message:"新增成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getAlldata()},function(){e.$message({message:"新增失败",type:"error"}),e.addFormVisible=!1})}})}),u()(g,"editSubmit",function(){var e=this;this.$refs.addForm.validate(function(t){if(t){1==e.addForm.ischeck?e.addForm.ischeck=1:e.addForm.ischeck=0;var a=e.addForm.year.slice(0,4);e.addForm.year=a;var l=d()({},e.addForm);0==e.condition?l.warndate=e.date1:l.warnday=e.date2;var s=l;s.createtime,s.updatetime;(l=i()(s,["createtime","updatetime"])).leaderList=e.leadsData,l.ruleList=e.ruleList,l=o()(l),Object(m.r)(l,function(t){e.$message({message:"编辑成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getAlldata()},function(){e.$message({message:"编辑失败",type:"error"})})}})}),g)},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"manage-index"},[a("el-row",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{ref:"filters",attrs:{inline:!0,model:e.filters,size:"small"}},[a("el-form-item",{attrs:{label:"指标名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入","auto-complete":"off"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"ybox",attrs:{label:"年度：",prop:"year"}},[a("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:"全部"},model:{value:e.filters.year,callback:function(t){e.$set(e.filters,"year",t)},expression:"filters.year"}})],1),e._v(" "),a("el-form-item",{staticClass:"ld",attrs:{label:"牵头区领导：",prop:"leadleaderid"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"全部"},model:{value:e.filters.leadleaderid,callback:function(t){e.$set(e.filters,"leadleaderid",t)},expression:"filters.leadleaderid"}},e._l(e.leaderList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id},on:{change:e.selectChange}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getDatas("filters")}}},[e._v("搜 索")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("filters")}}},[e._v("重 置")])],1),e._v(" "),a("div",{staticClass:"toolbtns"},[e.isAddShow?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新 增")]):e._e()],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",height:e.tableHeight,data:e.tableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"100",formatter:e.numberFormatter}}),e._v(" "),a("el-table-column",{attrs:{prop:"year",width:"100",label:"年度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"指标名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"指标类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{innerHTML:e._s(e.typeFormat(t,t.row.type))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"计量单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leadleadername",label:"牵头区领导"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dytarget",label:"区定全年排位目标"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"formstatus",label:"材料报送"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):2==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#f00"}}):-1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.formstatusFormat(t,t.row.formstatus))}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"totalstatus",label:"总体进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isEditShow?a("div",{staticClass:"flexbox"},[3==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#364e98"}}):4==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#7c1d77"}}):-1==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("el-select",{staticClass:"stateSelect",on:{change:function(a){e.totalstateChange(t,t.row)}},model:{value:t.row.totalstatus,callback:function(a){e.$set(t.row,"totalstatus",a)},expression:"scope.row.totalstatus"}},e._l(e.totalStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.status,value:e.value}})}))],1):a("div",[3==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#364e98"}}):4==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#7c1d77"}}):-1==t.row.totalstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.totalstatusFormat(t,t.row.totalstatus))}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.handleLook(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),e.isEditShow?a("el-button",{staticClass:"btn",on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,40,50],"page-size":e.pageSize,layout:"total, prev, pager, next, sizes, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticClass:"managebox",attrs:{title:e.formTitle,visible:e.addFormVisible,width:"1200px"},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-row",{staticClass:"addrow"},[a("el-col",{attrs:{span:24}},[a("fieldset",[a("legend",[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"boxcontent",staticStyle:{"padding-left":"0"}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"指标名称：",prop:"name",rules:[{required:!0,message:"指标名称不能为空"}]}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"年度：",prop:"year",rules:[{required:!0,message:"请选择"}]}},[a("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:"请选择"},on:{change:e.selectChange},model:{value:e.addForm.year,callback:function(t){e.$set(e.addForm,"year",t)},expression:"addForm.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计量单位：",prop:"unit"}},[a("el-input",{model:{value:e.addForm.unit,callback:function(t){e.$set(e.addForm,"unit",t)},expression:"addForm.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标类型：",prop:"type",rules:[{required:!0,message:"指标名称不能为空"}]}},[a("el-radio",{attrs:{label:"0"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[e._v("绝对量")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",t)},expression:"addForm.type"}},[e._v("增幅")])],1)],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"牵头区领导：",prop:"leadleaderid"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:e.selectChange},model:{value:e.addForm.leadleaderid,callback:function(t){e.$set(e.addForm,"leadleaderid",t)},expression:"addForm.leadleaderid"}},e._l(e.leaderList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"市下达全年目标：",prop:"cytarget"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.addForm.cytarget,callback:function(t){e.$set(e.addForm,"cytarget",t)},expression:"addForm.cytarget"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区定全年目标：",prop:"dytarget"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.addForm.dytarget,callback:function(t){e.$set(e.addForm,"dytarget",t)},expression:"addForm.dytarget"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"remark",attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1)],1)],1)])])],1),e._v(" "),a("el-row",{staticClass:"index-leader",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("牵头单位")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-button",{staticClass:"addbtn",attrs:{size:"small",type:"primary"},on:{click:e.addLead}},[e._v("新 增")]),e._v(" "),a("el-table",{staticClass:"tableinfo",attrs:{height:"200px",border:"",data:e.leadsData,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"deptName",label:"牵头单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leadername",label:"责任领导"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentname",label:"经办人"}}),e._v(" "),e.isStateShow?a("el-table-column",{attrs:{prop:"formstatus",label:"报送状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tag",{attrs:{size:"small"}},[1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):2==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#f00"}}):-1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.formstatusFormat(t,t.row.formstatus))}})])],1)]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.handleEdit2(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"btn",on:{click:function(a){e.handleDelete2(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("报送规则")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-button",{staticClass:"addbtn",attrs:{size:"small",type:"primary"},on:{click:e.addRuleBtn}},[e._v("新 增")]),e._v(" "),a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.ruleList,"highlight-current-row":"",height:"200px"}},[a("el-table-column",{attrs:{prop:"stagename",label:"阶段"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cycletype",label:"报送周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.cycletype?a("p",[e._v("每月")]):4==t.row.cycletype?a("p",[e._v("季度")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"warnday",label:"提前预警(天)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.editRuleBtn(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"btn",on:{click:function(a){e.delRuleBtn(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.saveSubmit("addForm")}}},[e._v(e._s(e.btnWord))])],1)],1),e._v(" "),a("el-dialog",{staticClass:"managebox",attrs:{title:"详情",visible:e.detailFormVisible,width:"1200px"},on:{"update:visible":function(t){e.detailFormVisible=t}}},[a("el-row",{staticClass:"addrow"},[a("el-col",{attrs:{span:24}},[a("fieldset",[a("legend",[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"boxcontent",staticStyle:{"padding-left":"0"}},[a("el-form",{ref:"detailForm",attrs:{model:e.detailForm,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"指标名称：",prop:"name"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.name,callback:function(t){e.$set(e.detailForm,"name",t)},expression:"detailForm.name"}})],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"年度：",prop:"year"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.year,callback:function(t){e.$set(e.detailForm,"year",t)},expression:"detailForm.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计量单位：",prop:"unit"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.unit,callback:function(t){e.$set(e.detailForm,"unit",t)},expression:"detailForm.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指标类型：",prop:"type"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.type,callback:function(t){e.$set(e.detailForm,"type",t)},expression:"detailForm.type"}})],1)],1),e._v(" "),a("div",{staticClass:"flexbox"},[a("el-form-item",{attrs:{label:"牵头区领导：",prop:"leadername"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.leadername,callback:function(t){e.$set(e.detailForm,"leadername",t)},expression:"detailForm.leadername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"市下达全年目标：",prop:"cytarget"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.cytarget,callback:function(t){e.$set(e.detailForm,"cytarget",t)},expression:"detailForm.cytarget"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区定全年目标：",prop:"dytarget"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.dytarget,callback:function(t){e.$set(e.detailForm,"dytarget",t)},expression:"detailForm.dytarget"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"remark",attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},readonly:""},model:{value:e.detailForm.remark,callback:function(t){e.$set(e.detailForm,"remark",t)},expression:"detailForm.remark"}})],1)],1)],1)])])],1),e._v(" "),a("el-row",{staticClass:"index-leader",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("牵头单位")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-table",{staticClass:"tableinfo",attrs:{border:"",data:e.leadsData,height:"200px","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"deptName",label:"牵头单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leadername",label:"责任领导"}}),e._v(" "),a("el-table-column",{attrs:{prop:"agentname",label:"经办人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"formstatus",label:"报送状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tag",{attrs:{size:"small"}},[1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#fbe804"}}):2==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#f00"}}):-1==t.row.formstatus?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.formstatusFormat(t,t.row.formstatus))}})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.handleDetail2(t.$index,t.row)}}},[e._v("详情")])]}}])})],1)],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("fieldset",[a("legend",[e._v("报送规则")]),e._v(" "),a("div",{staticClass:"boxcontent"},[a("el-table",{staticClass:"tableinfo",staticStyle:{width:"100%"},attrs:{border:"",data:e.ruleList,"highlight-current-row":"",height:"200px"}},[a("el-table-column",{attrs:{prop:"stagename",label:"阶段"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cycletype",label:"报送周期",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.cycletype?a("p",[e._v("每月")]):4==t.row.cycletype?a("p",[e._v("季度")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"warnday",label:"提前预警(天)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tag",{attrs:{size:"medium"}},[1==t.row.status?a("i",{staticClass:"fa mark",staticStyle:{background:"#364e98"}}):0==t.row.status?a("i",{staticClass:"fa mark",staticStyle:{background:"#999"}}):a("i",{staticClass:"fa mark"}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.stateFormat(t,t.row.status))}})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"btn",on:{click:function(a){e.detailRuleBtn(t.$index,t.row)}}},[e._v("详情")])]}}])})],1)],1)])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.detailFormVisible=!1}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"task-dialog task-dialog2",attrs:{title:e.taskTitle,visible:e.addLeadVisible,width:"800px"},on:{"update:visible":function(t){e.addLeadVisible=t}}},[a("el-form",{ref:"addLeadData",attrs:{inline:!0,model:e.addLeadData,"label-width":"100px","append-to-body":!0}},[a("div",{staticClass:"leabox"},[a("el-form-item",{attrs:{label:"牵头单位：",prop:"deptid",rules:[{required:!0,message:"请选择牵头单位",trigger:"change"}]}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.deptChange},model:{value:e.addLeadData.deptid,callback:function(t){e.$set(e.addLeadData,"deptid",t)},expression:"addLeadData.deptid"}},e._l(e.deptList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"责任领导：",prop:"leadername"}},[a("el-input",{model:{value:e.addLeadData.leadername,callback:function(t){e.$set(e.addLeadData,"leadername",t)},expression:"addLeadData.leadername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式：",prop:"leaderphone"}},[a("el-input",{model:{value:e.addLeadData.leaderphone,callback:function(t){e.$set(e.addLeadData,"leaderphone",t)},expression:"addLeadData.leaderphone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经办人：",prop:"agentname"}},[a("el-input",{model:{value:e.addLeadData.agentname,callback:function(t){e.$set(e.addLeadData,"agentname",t)},expression:"addLeadData.agentname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式：",prop:"agentphone"}},[a("el-input",{model:{value:e.addLeadData.agentphone,callback:function(t){e.$set(e.addLeadData,"agentphone",t)},expression:"addLeadData.agentphone"}})],1),e._v(" "),a("div",{staticClass:"leabox leabox2"},[a("el-form-item",{attrs:{label:"工作职责：",prop:"duty"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:10}},model:{value:e.addLeadData.duty,callback:function(t){e.$set(e.addLeadData,"duty",t)},expression:"addLeadData.duty"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitLead}},[e._v(e._s(e.changeWord))])],1)],1),e._v(" "),a("el-dialog",{staticClass:"rule-dialog",attrs:{title:e.ruleTitle,visible:e.ruleVisible,width:"420px"},on:{"update:visible":function(t){e.ruleVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"阶段：",prop:"stagename"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.ruleForm.stagename,callback:function(t){e.$set(e.ruleForm,"stagename",t)},expression:"ruleForm.stagename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预警条件：",prop:"condition"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){e.cycleChange()}},model:{value:e.condition,callback:function(t){e.condition=t},expression:"condition"}},e._l(e.warnlist,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"预警时间：",prop:"date2"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.selectChange},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}},e._l(e.timeday,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticClass:"day",attrs:{label:"提前：",prop:"warnday"}},[a("el-input",{model:{value:e.ruleForm.warnday,callback:function(t){e.$set(e.ruleForm,"warnday",t)},expression:"ruleForm.warnday"}},[a("template",{slot:"append"},[e._v("天预警")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间：",prop:"starttime",rules:[{required:!0,message:"时间不能为空",trigger:"change"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruleForm.starttime,callback:function(t){e.$set(e.ruleForm,"starttime",t)},expression:"ruleForm.starttime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间：",prop:"endtime",rules:[{required:!0,message:"时间不能为空",trigger:"change"}]}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruleForm.endtime,callback:function(t){e.$set(e.ruleForm,"endtime",t)},expression:"ruleForm.endtime"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitRule}},[e._v(e._s(e.ruleBtn))])],1)],1),e._v(" "),a("el-dialog",{staticClass:"rule-dialog",attrs:{title:"规则详情",visible:e.detailRuleVisible,width:"420px"},on:{"update:visible":function(t){e.detailRuleVisible=t}}},[a("div",[a("el-form",{ref:"ruledetailForm",attrs:{model:e.ruledetailForm,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"预警条件：",prop:"stagename"}},[a("el-input",{attrs:{readonly:""},model:{value:e.ruledetailForm.stagename,callback:function(t){e.$set(e.ruledetailForm,"stagename",t)},expression:"ruledetailForm.stagename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预警条件：",prop:"dcondition"}},[a("el-input",{attrs:{readonly:""},model:{value:e.dcondition,callback:function(t){e.dcondition=t},expression:"dcondition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预警日期：",prop:"date2"}},[a("el-input",{attrs:{readonly:""},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}})],1),e._v(" "),a("el-form-item",{staticClass:"day",attrs:{label:"提前：",prop:"warnday"}},[a("el-input",{attrs:{readonly:""},model:{value:e.ruledetailForm.warnday,callback:function(t){e.$set(e.ruledetailForm,"warnday",t)},expression:"ruledetailForm.warnday"}},[a("template",{slot:"append"},[e._v("天预警")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间：",prop:"starttime"}},[a("el-date-picker",{attrs:{type:"date",readonly:"",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruledetailForm.starttime,callback:function(t){e.$set(e.ruledetailForm,"starttime",t)},expression:"ruledetailForm.starttime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间：",prop:"endtime"}},[a("el-date-picker",{attrs:{type:"date",readonly:"",placeholder:"请选择","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},on:{change:e.selectChange},model:{value:e.ruledetailForm.endtime,callback:function(t){e.$set(e.ruledetailForm,"endtime",t)},expression:"ruledetailForm.endtime"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.detailRuleVisible=!1}}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var _=a("VU/8")(F,k,!1,function(e){a("2BF/")},null,null).exports,w=a("P9l9"),L={name:"target",components:{manageArea:y,manageIndex:f,manageDistrict:_},data:function(){return{activeName:"first",leaderList:[],deptList:[]}},mounted:function(){},created:function(){this.getLeaderList(),this.getDeptlist()},methods:{handleTabClick:function(e,t){},switchTabs:function(){},getLeaderList:function(){var e=this;Object(w.G)("",function(t){e.leaderList=t.data.obj})},getDeptlist:function(){var e=this;Object(w.e)("",function(t){e.deptList=t.data.obj})}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrap target"},[a("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"区级指标管理",name:"first"}},[a("manage-index",{attrs:{leaderList:e.leaderList,deptList:e.deptList}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"承办单位指标管理",name:"second"}},[a("manage-district",{attrs:{leaderList:e.leaderList,deptList:e.deptList}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"区（市）县管理",name:"third"}},[a("manage-area")],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(L,C,!1,function(e){a("pq+T")},null,null);t.default=x.exports},QHkh:function(e,t){},WvZi:function(e,t){},"pq+T":function(e,t){}});
//# sourceMappingURL=7.445e87eb16314203d2c4.js.map